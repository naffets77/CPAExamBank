!function(e,t){function n(){}function r(e,t){if(t)return"'"+e.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var n=e.charAt(0),r=e.substring(1);return"="===n?"+("+r+")+":":"===n?"+e("+r+")+":";"+e+";o+="}function o(e,t,n){return e+="",t=t||2,n=t-e.length,n?U[t].substring(0,n)+e:e}function i(t,n){var r,o,i,s,a,u,l,c,d,f,m,p,h,g=vt.browser,y="rtl"==t.css("direction");return t.parent().hasClass("k-animation-container")?(p=t.parent(".k-animation-container"),h=p[0].style,p.is(":hidden")&&p.show(),r=bt.test(h.width)||bt.test(h.height),r||p.css({width:t.outerWidth(),height:t.outerHeight(),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})):(o=t.css(dt.support.transitions.css+"box-shadow")||t.css("box-shadow"),i=o?o.match(St)||[0,0,0,0,0]:[0,0,0,0,0],s=yt.max(+i[3],+(i[4]||0)),a=-i[1]+s,u=+i[1]+s,l=+i[2]+s,c=t[0].style.width,d=t[0].style.height,f=bt.test(c),m=bt.test(d),g.opera&&(a=u=l=5),r=f||m,!f&&(!n||n&&c)&&(c=t.outerWidth()),!m&&(!n||n&&d)&&(d=t.outerHeight()),t.wrap(e("<div/>").addClass("k-animation-container").css({width:c,height:d,marginLeft:a*(y?1:-1),paddingLeft:a,paddingRight:u,paddingBottom:l})),r&&t.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})),g.msie&&yt.floor(g.version)<=7&&(t.css({zoom:1}),t.children(".k-menu").width(t.width())),t.parent()}function s(e){var t=1,n=arguments.length;for(t=1;n>t;t++)a(e,arguments[t]);return e}function a(e,t){var n,r,o,i,s=dt.data.ObservableArray,u=dt.data.DataSource;for(n in t)r=t[n],o=typeof r,o===Ot&&null!==r&&r.constructor!==Array&&r.constructor!==s&&r.constructor!==u?r instanceof Date?e[n]=new Date(r.getTime()):C(r.clone)?e[n]=r.clone():(i=e[n],e[n]=typeof i===Ot?i||{}:{},a(e[n],r)):o!==At&&(e[n]=r);return e}function u(e,n,r){for(var o in n)if(n.hasOwnProperty(o)&&n[o].test(e))return o;return r!==t?r:e}function l(e){return e.replace(/([a-z][A-Z])/g,function(e){return e.charAt(0)+"-"+e.charAt(1).toLowerCase()})}function c(e){return e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})}function d(t,n){var r,o={};return document.defaultView&&document.defaultView.getComputedStyle?(r=document.defaultView.getComputedStyle(t,""),n&&e.each(n,function(e,t){o[t]=r.getPropertyValue(t)})):(r=t.currentStyle,n&&e.each(n,function(e,t){o[t]=r[c(t)]})),dt.size(o)||(o=r),o}function f(e){var t,n=0;for(t in e)e.hasOwnProperty(t)&&"toJSON"!=t&&n++;return n}function m(e,t,n){var r,o,i,s;return t||(t="offset"),r=e[t](),o=vt.mobileOS,vt.touch&&o.ios&&o.flatVersion<410&&(i="offset"==t?r:e.offset(),s=r.left==i.left&&r.top==i.top)?{top:r.top-window.scrollY,left:r.left-window.scrollX}:(vt.browser.msie&&(vt.pointers||vt.msPointers)&&!n&&"position"!=t&&(r.top-=window.pageYOffset-document.documentElement.scrollTop,r.left-=window.pageXOffset-document.documentElement.scrollLeft),r)}function p(e){var t={};return mt("string"==typeof e?e.split(" "):e,function(e){t[e]=this}),t}function h(e){return new dt.effects.Element(e)}function g(e,t,n,r){return typeof e===kt&&(C(t)&&(r=t,t=400,n=!1),C(n)&&(r=n,n=!1),typeof t===Ct&&(n=t,t=400),e={effects:e,duration:t,reverse:n,complete:r}),ft({effects:{},duration:400,reverse:!1,init:gt,teardown:gt,hide:!1},e,{completeCallback:e.complete,complete:gt})}function y(t,n,r,o,i){for(var s,a=0,u=t.length;u>a;a++)s=e(t[a]),s.queue(function(){R.promise(s,g(n,r,o,i))});return t}function w(e,t,n,r,o,i){return R.transitionPromise(e,t,g(n,r,o,i))}function v(e,t,n,r){return t&&(t=t.split(" "),mt(t,function(t,n){e.toggleClass(n,r)})),e}function b(e){return(""+e).replace(j,"&amp;").replace(B,"&lt;").replace(J,"&gt;")}function M(e,n){var r;return 0===n.indexOf("data")&&(n=n.substring(4),n=n.charAt(0).toLowerCase()+n.substring(1)),n=n.replace(K,"-$1"),r=e.getAttribute("data-"+dt.ns+n),null===r?r=t:"null"===r?r=null:"true"===r?r=!0:"false"===r?r=!1:Tt.test(r)?r=parseFloat(r):Q.test(r)&&!Z.test(r)&&(r=Function("return ("+r+")")()),r}function S(n,r){var o,i,s={};for(o in r)i=M(n,o),i!==t&&(G.test(o)&&(i=dt.template(e("#"+i).html())),s[o]=i);return s}function T(t,n){return e.contains(t,n)?-1:1}function x(){var t=e(this);return e.inArray(t.attr("data-role"),["slider","rangeslider"])>0||t.is(":visible")}function k(e,t){var n=e.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(n)?!e.disabled:"a"===n?e.href||t:t)&&z(e)}function z(t){return!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function O(e,t){return new O.fn.init(e,t)}var D,C,A,P,H,E,F,N,_,I,W,U,L,R,j,B,J,Y,$,V,q,G,Q,Z,K,X,et,tt,nt,rt,ot,it,st,at,ut,lt,ct,dt=window.kendo=window.kendo||{cultures:{}},ft=e.extend,mt=e.each,pt=e.isArray,ht=e.proxy,gt=e.noop,yt=Math,wt=window.JSON||{},vt={},bt=/%/,Mt=/\{(\d+)(:[^\}]+)?\}/g,St=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,Tt=/^(\+|-?)\d+(\.?)\d*$/,xt="function",kt="string",zt="number",Ot="object",Dt="null",Ct="boolean",At="undefined",Pt={},Ht={},Et=[].slice,Ft=window.Globalize;dt.version="2013.3.1411",n.extend=function(e){var t,n,r=function(){},o=this,i=e&&e.init?e.init:function(){o.apply(this,arguments)};r.prototype=o.prototype,n=i.fn=i.prototype=new r;for(t in e)n[t]=typeof e[t]!==Ot||e[t]instanceof Array||null===e[t]?e[t]:ft(!0,{},r.prototype[t],e[t]);return n.constructor=i,i.extend=o.extend,i},n.prototype._initOptions=function(e){this.options=s({},this.options,e)},C=dt.isFunction=function(e){return"function"==typeof e},A=function(){this._defaultPrevented=!0},P=function(){return this._defaultPrevented===!0},H=n.extend({init:function(){this._events={}},bind:function(e,n,r){var o,i,s,a,u,l=this,c=typeof e===kt?[e]:e,d=typeof n===xt;if(n===t){for(o in e)l.bind(o,e[o]);return l}for(o=0,i=c.length;i>o;o++)e=c[o],a=d?n:n[e],a&&(r&&(s=a,a=function(){l.unbind(e,a),s.apply(l,arguments)}),u=l._events[e]=l._events[e]||[],u.push(a));return l},one:function(e,t){return this.bind(e,t,!0)},first:function(e,t){var n,r,o,i,s=this,a=typeof e===kt?[e]:e,u=typeof t===xt;for(n=0,r=a.length;r>n;n++)e=a[n],o=u?t:t[e],o&&(i=s._events[e]=s._events[e]||[],i.unshift(o));return s},trigger:function(e,t){var n,r,o=this,i=o._events[e];if(i){for(t=t||{},t.sender=o,t._defaultPrevented=!1,t.preventDefault=A,t.isDefaultPrevented=P,i=i.slice(),n=0,r=i.length;r>n;n++)i[n].call(o,t);return t._defaultPrevented===!0}return!1},unbind:function(e,n){var r,o=this,i=o._events[e];if(e===t)o._events={};else if(i)if(n)for(r=i.length-1;r>=0;r--)i[r]===n&&i.splice(r,1);else o._events[e]=[];return o}}),E=/^\w+/,F=/\$\{([^}]*)\}/g,N=/\\\}/g,_=/__CURLY__/g,I=/\\#/g,W=/__SHARP__/g,U=["","0","00","000","0000"],D={paramName:"data",useWithBlock:!0,render:function(e,t){var n,r,o="";for(n=0,r=t.length;r>n;n++)o+=e(t[n]);return o},compile:function(t,n){var o,i,s,a=ft({},this,n),u=a.paramName,l=u.match(E)[0],c=a.useWithBlock,d="var o,e=kendo.htmlEncode;";if(C(t))return 2===t.length?function(n){return t(e,{data:n}).join("")}:t;for(d+=c?"with("+u+"){":"",d+="o=",i=t.replace(N,"__CURLY__").replace(F,"#=e($1)#").replace(_,"}").replace(I,"__SHARP__").split("#"),s=0;s<i.length;s++)d+=r(i[s],s%2===0);d+=c?";}":";",d+="return o;",d=d.replace(W,"#");try{return o=Function(l,d),o._slotCount=Math.floor(i.length/2),o}catch(f){throw Error(dt.format("Invalid template:'{0}' Generated code:'{1}'",t,d))}}},function(){function e(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=a[e];return typeof t===kt?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function t(o,s){var a,l,c,d,f,m,p=n,h=s[o];if(h&&typeof h===Ot&&typeof h.toJSON===xt&&(h=h.toJSON(o)),typeof i===xt&&(h=i.call(s,o,h)),m=typeof h,m===kt)return e(h);if(m===zt)return isFinite(h)?h+"":Dt;if(m===Ct||m===Dt)return h+"";if(m===Ot){if(!h)return Dt;if(n+=r,f=[],"[object Array]"===u.apply(h)){for(d=h.length,a=0;d>a;a++)f[a]=t(a,h)||Dt;return c=0===f.length?"[]":n?"[\n"+n+f.join(",\n"+n)+"\n"+p+"]":"["+f.join(",")+"]",n=p,c}if(i&&typeof i===Ot)for(d=i.length,a=0;d>a;a++)typeof i[a]===kt&&(l=i[a],c=t(l,h),c&&f.push(e(l)+(n?": ":":")+c));else for(l in h)Object.hasOwnProperty.call(h,l)&&(c=t(l,h),c&&f.push(e(l)+(n?": ":":")+c));return c=0===f.length?"{}":n?"{\n"+n+f.join(",\n"+n)+"\n"+p+"}":"{"+f.join(",")+"}",n=p,c}}var n,r,i,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},u={}.toString;typeof Date.prototype.toJSON!==xt&&(Date.prototype.toJSON=function(){var e=this;return isFinite(e.valueOf())?o(e.getUTCFullYear(),4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof wt.stringify!==xt&&(wt.stringify=function(e,o,s){var a;if(n="",r="",typeof s===zt)for(a=0;s>a;a+=1)r+=" ";else typeof s===kt&&(r=s);if(i=o,o&&typeof o!==xt&&(typeof o!==Ot||typeof o.length!==zt))throw Error("JSON.stringify");return t("",{"":e})})}(),function(){function n(e){if(e){if(e.numberFormat)return e;if(typeof e===kt){var t=dt.cultures;return t[e]||t[e.split("-")[0]]||null}return null}return null}function r(e){return e&&(e=n(e)),e||dt.cultures.current}function i(e){e.groupSizes=e.groupSize,e.percent.groupSizes=e.percent.groupSize,e.currency.groupSizes=e.currency.groupSize}function s(e,n,i){i=r(i);var s=i.calendars.standard,a=s.days,u=s.months;return n=s.patterns[n]||n,n.replace(d,function(n){var r;return"d"===n?r=e.getDate():"dd"===n?r=o(e.getDate()):"ddd"===n?r=a.namesAbbr[e.getDay()]:"dddd"===n?r=a.names[e.getDay()]:"M"===n?r=e.getMonth()+1:"MM"===n?r=o(e.getMonth()+1):"MMM"===n?r=u.namesAbbr[e.getMonth()]:"MMMM"===n?r=u.names[e.getMonth()]:"yy"===n?r=o(e.getFullYear()%100):"yyyy"===n?r=o(e.getFullYear(),4):"h"===n?r=e.getHours()%12||12:"hh"===n?r=o(e.getHours()%12||12):"H"===n?r=e.getHours():"HH"===n?r=o(e.getHours()):"m"===n?r=e.getMinutes():"mm"===n?r=o(e.getMinutes()):"s"===n?r=e.getSeconds():"ss"===n?r=o(e.getSeconds()):"f"===n?r=yt.floor(e.getMilliseconds()/100):"ff"===n?r=yt.floor(e.getMilliseconds()/10):"fff"===n?r=e.getMilliseconds():"tt"===n&&(r=e.getHours()<12?s.AM[0]:s.PM[0]),r!==t?r:n.slice(1,n.length-1)})}function a(e,n,o){o=r(o);var i,s,a,u,c,d,M,S,T,x,k,z,O,D,C,A,P,H,E,F,N,_,I,W=o.numberFormat,U=W.groupSize[0],L=W[y],R=W[g],j=W.decimals,B=W.pattern[0],J=[],Y=0>e,$=h,V=h,q=-1;if(e===t)return h;if(!isFinite(e))return e;if(!n)return o.name.length?e.toLocaleString():""+e;if(c=f.exec(n)){if(n=c[1].toLowerCase(),s="c"===n,a="p"===n,(s||a)&&(W=s?W.currency:W.percent,U=W.groupSize[0],L=W[y],R=W[g],j=W.decimals,i=W.symbol,B=W.pattern[Y?0:1]),u=c[2],u&&(j=+u),"e"===n)return u?e.toExponential(j):e.toExponential();if(a&&(e*=100),e=l(e,j),Y=0>e,e=e.split(g),d=e[0],M=e[1],Y&&(d=d.substring(1)),V=d,S=d.length,S>=U)for(V=h,x=0;S>x;x++)x>0&&(S-x)%U===0&&(V+=L),V+=d.charAt(x);if(M&&(V+=R+M),"n"===n&&!Y)return V;for(e=h,x=0,k=B.length;k>x;x++)z=B.charAt(x),e+="n"===z?V:"$"===z||"%"===z?i:z;return e}if(Y&&(e=-e),(n.indexOf("'")>-1||n.indexOf('"')>-1||n.indexOf("\\")>-1)&&(n=n.replace(m,function(e){var t=e.charAt(0).replace("\\",""),n=e.slice(1).replace(t,"");return J.push(n),b})),n=n.split(";"),Y&&n[1])n=n[1],D=!0;else if(0===e){if(n=n[2]||n[0],-1==n.indexOf(w)&&-1==n.indexOf(v))return n}else n=n[0];if(F=n.indexOf("%"),N=n.indexOf("$"),a=-1!=F,s=-1!=N,a&&(e*=100),s&&"\\"===n[N-1]&&(n=n.split("\\").join(""),s=!1),(s||a)&&(W=s?W.currency:W.percent,U=W.groupSize[0],L=W[y],R=W[g],j=W.decimals,i=W.symbol),O=n.indexOf(y)>-1,O&&(n=n.replace(p,h)),C=n.indexOf(g),k=n.length,-1!=C?(M=(""+e).split("e"),M=M[1]?l(e,Math.abs(M[1])):M[0],M=M.split(g)[1]||h,P=n.lastIndexOf(v)-C,A=n.lastIndexOf(w)-C,H=P>-1,E=A>-1,x=M.length,H||E||(n=n.substring(0,C)+n.substring(C+1),k=n.length,C=-1,x=0),H&&P>A?x=P:A>P&&(E&&x>A?x=A:H&&P>x&&(x=P)),x>-1&&(e=l(e,x))):e=l(e),A=n.indexOf(w),_=P=n.indexOf(v),q=-1==A&&-1!=P?P:-1!=A&&-1==P?A:A>P?P:A,A=n.lastIndexOf(w),P=n.lastIndexOf(v),I=-1==A&&-1!=P?P:-1!=A&&-1==P?A:A>P?A:P,q==k&&(I=q),-1!=q){if(V=(""+e).split(g),d=V[0],M=V[1]||h,S=d.length,T=M.length,Y&&-1*e>=0&&(Y=!1),O)if(S===U&&C-_>S)d=L+d;else if(S>U){for(V=h,x=0;S>x;x++)x>0&&(S-x)%U===0&&(V+=L),V+=d.charAt(x);d=V}for(e=n.substring(0,q),Y&&!D&&(e+="-"),x=q;k>x;x++){if(z=n.charAt(x),-1==C){if(S>I-x){e+=d;break}}else if(-1!=P&&x>P&&($=h),S>=C-x&&C-x>-1&&(e+=d,x=C),C===x){e+=(M?R:h)+M,x+=I-C+1;continue}z===v?(e+=z,$=z):z===w&&(e+=$)}if(I>=q&&(e+=n.substring(I+1)),s||a){for(V=h,x=0,k=e.length;k>x;x++)z=e.charAt(x),V+="$"===z||"%"===z?i:z;e=V}if(k=J.length)for(x=0;k>x;x++)e=e.replace(b,J[x])}return e}var u,l,c,d=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,f=/^(n|c|p|e)(\d*)$/i,m=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,p=/\,/g,h="",g=".",y=",",w="#",v="0",b="??",M="en-US",S={}.toString;dt.cultures["en-US"]={name:M,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},dt.culture=function(e){var r,o=dt.cultures;return e===t?o.current:(r=n(e)||o[M],r.calendar=r.calendars.standard,o.current=r,Ft&&i(r.numberFormat),t)},dt.findCulture=n,dt.getCulture=r,dt.culture(M),u=9e15,l=function(e,t){var n=Math.pow(10,t||0),r=Math.round(e*n);return r>u?e.toFixed(t):(r/n).toFixed(t)},c=function(e,n,r){if(n){if("[object Date]"===S.call(e))return s(e,n,r);if(typeof e===zt)return a(e,n,r)}return e!==t?e:""},Ft&&(c=function(t,n,r){return e.isPlainObject(r)&&(r=r.name),Ft.format(t,n,r)}),dt.format=function(e){var t=arguments;return e.replace(Mt,function(e,n,r){var o=t[parseInt(n,10)+1];return c(o,r?r.substring(1):"")})},dt._extractFormat=function(e){return"{0:"===e.slice(0,3)&&(e=e.slice(3,e.length-1)),e},dt._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},dt._round=l,dt.toString=c}(),function(){function n(e,t,n){return!(e>=t&&n>=e)}function r(e){return e.charAt(0)}function o(t){return e.map(t,r)}function i(e,t){t||23!==e.getHours()||e.setHours(e.getHours()+2)}function s(e){for(var t=0,n=e.length,r=[];n>t;t++)r[t]=(e[t]+"").toLowerCase();return r}function a(e){var t,n={};for(t in e)n[t]=s(e[t]);return n}function u(e,r,s){if(!e)return null;var u,l,c,m,p,g,y,w,v,b,M,S,T,x=function(e){for(var t=0;r[_]===e;)t++,_++;return t>0&&(_-=1),t},k=function(t){var n=h[t]||RegExp("^\\d{1,"+t+"}"),r=e.substr(I,t).match(n);return r?(r=r[0],I+=r.length,parseInt(r,10)):null},z=function(t,n){for(var r,o,i,s=0,a=t.length;a>s;s++)if(r=t[s],o=r.length,i=e.substr(I,o),n&&(i=i.toLowerCase()),i==r)return I+=o,s+1;return null},O=function(){var t=!1;return e.charAt(I)===r[_]&&(I++,t=!0),t},D=s.calendars.standard,C=null,A=null,P=null,H=null,E=null,F=null,N=null,_=0,I=0,W=!1,U=new Date,L=D.twoDigitYearMax||2029,R=U.getFullYear();for(r||(r="d"),m=D.patterns[r],m&&(r=m),r=r.split(""),c=r.length;c>_;_++)if(u=r[_],W)"'"===u?W=!1:O();else if("d"===u){if(l=x("d"),D._lowerDays||(D._lowerDays=a(D.days)),P=3>l?k(2):z(D._lowerDays[3==l?"namesAbbr":"names"],!0),null===P||n(P,1,31))return null}else if("M"===u){if(l=x("M"),D._lowerMonths||(D._lowerMonths=a(D.months)),A=3>l?k(2):z(D._lowerMonths[3==l?"namesAbbr":"names"],!0),null===A||n(A,1,12))return null;A-=1}else if("y"===u){if(l=x("y"),C=k(l),null===C)return null;2==l&&("string"==typeof L&&(L=R+parseInt(L,10)),C=R-R%100+C,C>L&&(C-=100))}else if("h"===u){if(x("h"),H=k(2),12==H&&(H=0),null===H||n(H,0,11))return null}else if("H"===u){if(x("H"),H=k(2),null===H||n(H,0,23))return null}else if("m"===u){if(x("m"),E=k(2),null===E||n(E,0,59))return null}else if("s"===u){if(x("s"),F=k(2),null===F||n(F,0,59))return null}else if("f"===u){if(l=x("f"),N=k(l),null!==N&&l>3&&(N=parseInt((""+N).substring(0,3),10)),null===N||n(N,0,999))return null}else if("t"===u){if(l=x("t"),v=D.AM,b=D.PM,1===l&&(v=o(v),b=o(b)),p=z(b),!p&&!z(v))return null}else if("z"===u){if(g=!0,l=x("z"),"Z"===e.substr(I,1)){if(!y)return null;O();continue}if(w=e.substr(I,6).match(l>2?f:d),!w)return null;if(w=w[0],I=w.length,w=w.split(":"),M=parseInt(w[0],10),n(M,-12,13))return null;if(l>2&&(S=parseInt(w[1],10),isNaN(S)||n(S,0,59)))return null}else if("T"===u)y=O();else if("'"===u)W=!0,O();else if(!O())return null;return T=null!==H||null!==E||F||null,null===C&&null===A&&null===P&&T?(C=R,A=U.getMonth(),P=U.getDate()):(null===C&&(C=R),null===P&&(P=1)),p&&12>H&&(H+=12),g?(M&&(H+=-M),S&&(E+=-S),e=new Date(Date.UTC(C,A,P,H,E,F,N))):(e=new Date(C,A,P,H,E,F,N),i(e,H)),100>C&&e.setFullYear(C),e.getDate()!==P&&g===t?null:e}var l=/\u00A0/g,c=/[eE][\-+]?[0-9]+/,d=/[+|\-]\d{1,2}/,f=/[+|\-]\d{1,2}:\d{2}/,m=/^\/Date\((.*?)\)\/$/,p=["G","g","d","F","D","y","m","T","t"],h={2:/^\d{1,2}/,4:/^\d{4}/},g={}.toString;dt.parseDate=function(e,t,n){if("[object Date]"===g.call(e))return e;var r,o,i=0,s=null;if(e&&0===e.indexOf("/D")&&(s=m.exec(e)))return new Date(parseInt(s[1],10));if(n=dt.getCulture(n),!t){for(t=[],o=n.calendar.patterns,r=p.length;r>i;i++)t[i]=o[p[i]];i=0,t=["yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd"].concat(t)}for(t=pt(t)?t:[t],r=t.length;r>i;i++)if(s=u(e,t[i],n))return s;return s},dt.parseInt=function(e,t){var n=dt.parseFloat(e,t);return n&&(n=0|n),n},dt.parseFloat=function(e,t,n){if(!e&&0!==e)return null;if(typeof e===zt)return e;e=""+e,t=dt.getCulture(t);var r,o,i=t.numberFormat,s=i.percent,a=i.currency,u=a.symbol,d=s.symbol,f=e.indexOf("-");return c.test(e)?(e=parseFloat(e.replace(i["."],".")),isNaN(e)&&(e=null),e):f>0?null:(f=f>-1,e.indexOf(u)>-1||n&&n.toLowerCase().indexOf("c")>-1?(i=a,r=i.pattern[0].replace("$",u).split("n"),e.indexOf(r[0])>-1&&e.indexOf(r[1])>-1&&(e=e.replace(r[0],"").replace(r[1],""),f=!0)):e.indexOf(d)>-1&&(o=!0,i=s,u=d),e=e.replace("-","").replace(u,"").replace(l," ").split(i[","].replace(l," ")).join("").replace(i["."],"."),e=parseFloat(e),isNaN(e)?e=null:f&&(e*=-1),e&&o&&(e/=100),e)},Ft&&(dt.parseDate=function(e,t,n){return"[object Date]"===g.call(e)?e:Ft.parseDate(e,t,n)},dt.parseFloat=function(n,r){return typeof n===zt?n:n===t||null===n?null:(e.isPlainObject(r)&&(r=r.name),n=Ft.parseFloat(n,r),isNaN(n)?null:n)})}(),function(){var n,r,o,i,s,a,l;vt.scrollbar=function(){var e,t=document.createElement("div");return t.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",t.innerHTML="&nbsp;",document.body.appendChild(t),e=t.offsetWidth-t.scrollWidth,document.body.removeChild(t),e},vt.isRtl=function(t){return e(t).closest(".k-rtl").length>0},n=document.createElement("table");try{n.innerHTML="<tr><td></td></tr>",vt.tbodyInnerHtml=!0}catch(c){vt.tbodyInnerHtml=!1}vt.touch="ontouchstart"in window,vt.msPointers=window.MSPointerEvent,vt.pointers=window.PointerEvent,r=vt.transitions=!1,o=vt.transforms=!1,i="HTMLElement"in window?HTMLElement.prototype:[],vt.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,mt(["Moz","webkit","O","ms"],function(){var e,i=""+this,s=typeof n.style[i+"Transition"]===kt;return s||typeof n.style[i+"Transform"]===kt?(e=i.toLowerCase(),o={css:"ms"!=e?"-"+e+"-":"",prefix:i,event:"o"===e||"webkit"===e?e:""},s&&(r=o,r.event=r.event?r.event+"TransitionEnd":"transitionend"),!1):t}),n=null,vt.transforms=o,vt.transitions=r,vt.devicePixelRatio=window.devicePixelRatio===t?1:window.devicePixelRatio;try{vt.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,vt.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(c){vt.screenWidth=window.screen.availWidth,vt.screenHeight=window.screen.availHeight}vt.detectOS=function(e){var t,n,r=!1,o=[],i=!/mobile safari/i.test(e),s={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},a={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},l={tablet:/playbook|ipad|fire/i},c={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(n in s)if(s.hasOwnProperty(n)&&(o=e.match(s[n]))){if("windows"==n&&"plugins"in navigator)return!1;r={},r.device=n,r.tablet=u(n,l,!1),r.browser=u(e,c,"default"),r.name=u(n,a),r[r.name]=!0,r.majorVersion=o[2],r.minorVersion=o[3].replace("_","."),t=r.minorVersion.replace(".","").substr(0,2),r.flatVersion=r.majorVersion+t+Array(3-(t.length<3?t.length:2)).join("0"),r.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||typeof window.PhoneGap!==At||typeof window.cordova!==At,r.android&&(vt.devicePixelRatio<1.5&&r.flatVersion<400||i)&&(vt.screenWidth>800||vt.screenHeight>800)&&(r.tablet=n);break}return r},s=vt.mobileOS=vt.detectOS(navigator.userAgent),vt.wpDevicePixelRatio=s.wp?screen.width/320:0,vt.kineticScrollNeeded=s&&(vt.touch||vt.msPointers||vt.pointers),vt.hasNativeScrolling=!1,(s.ios&&s.majorVersion>4||s.android&&s.majorVersion>2||s.wp)&&(vt.hasNativeScrolling=s),vt.mouseAndTouchPresent=vt.touch&&!(vt.mobileOS.ios||vt.mobileOS.android),vt.detectBrowser=function(e){var t,n=!1,r=[],o={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(t in o)if(o.hasOwnProperty(t)&&(r=e.match(o[t]))){n={},n[t]=!0,n[r[1].toLowerCase()]=!0,n.version=parseInt(document.documentMode||r[2],10);break}return n},vt.browser=vt.detectBrowser(navigator.userAgent),vt.zoomLevel=function(){try{return vt.touch?document.documentElement.clientWidth/window.innerWidth:vt.browser.msie&&vt.browser.version>=10?(top||window).outerWidth/(top||window).innerWidth:1}catch(e){return 1}},vt.cssBorderSpacing=t!==document.documentElement.style.borderSpacing&&!(vt.browser.msie&&vt.browser.version<8),function(t){var n,r=parseInt(t.version,10);t.msie?n="ie":t.mozilla?n="ff":t.safari?n="safari":t.webkit?n="webkit":t.opera&&(n="opera"),n&&e(document.documentElement).addClass("k-"+n+" k-"+n+r)}(vt.browser),vt.eventCapture=document.documentElement.addEventListener,a=document.createElement("input"),vt.placeholder="placeholder"in a,vt.input=function(){for(var e,t=["number","date","time","month","week","datetime","datetime-local"],n=t.length,r="test",o={},i=0;n>i;i++)e=t[i],a.setAttribute("type",e),a.value=r,o[e.replace("-","")]="text"!==a.type&&a.value!==r;return o}(),a.style.cssText="float:left;",vt.cssFloat=!!a.style.cssFloat,a=null,vt.stableSort=function(){var e=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return 0===e[0]&&1===e[1]&&2===e[2]&&3===e[3]&&4===e[4]&&5===e[5]&&6===e[6]&&7===e[7]&&8===e[8]&&9===e[9]&&10===e[10]&&11===e[11]&&12===e[12]}(),vt.matchesSelector=i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.matchesSelector||function(t){for(var n=document.querySelectorAll?(this.parentNode||document).querySelectorAll(t)||[]:e(t),r=n.length;r--;)if(n[r]==this)return!0;return!1},vt.pushState=window.history&&window.history.pushState,l=document.documentMode,vt.hashChange="onhashchange"in window&&!(vt.browser.msie&&(!l||8>=l))}(),L={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},R={},e.extend(R,{Element:function(t){this.element=e(t)},promise:function(e,t){e.is(":visible")||e.css({display:e.data("olddisplay")||"block"}).css("display"),t.hide&&e.data("olddisplay",e.css("display")).hide(),t.init&&t.init(),t.completeCallback&&t.completeCallback(e),e.dequeue()},transitionPromise:function(e,t,n){var r=dt.wrap(e);return r.append(t),e.hide(),t.show(),n.completeCallback&&n.completeCallback(e),e},disable:function(){this.promise=this.promiseShim,this.transitionPromise=this.transitionPromiseShim},enable:function(){this.promise=this.animatedPromise,this.transitionPromise=this.animatedTransitionPromise}}),R.promiseShim=R.promise,R.transitionPromiseShim=R.transitionPromise,"kendoAnimate"in e.fn||ft(e.fn,{kendoStop:function(e,t){return this.stop(e,t)},kendoAnimate:function(e,t,n,r){return y(this,e,t,n,r)},kendoAnimateTo:function(e,t,n,r,o){return w(this,e,t,n,r,o)},kendoAddClass:function(e,t){return dt.toggleClass(this,e,t,!0)},kendoRemoveClass:function(e,t){return dt.toggleClass(this,e,t,!1)},kendoToggleClass:function(e,t,n){return dt.toggleClass(this,e,t,n)}}),j=/&/g,B=/</g,J=/>/g,Y=function(e){return e.target},vt.touch&&(Y=function(e){var t="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return t?document.elementFromPoint(t[0].clientX,t[0].clientY):e.target},mt(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(t,n){e.fn[n]=function(e){return this.bind(n,e)}})),vt.touch?vt.mobileOS?(vt.mousedown="touchstart",vt.mouseup="touchend",vt.mousemove="touchmove",vt.mousecancel="touchcancel",vt.click="touchend",vt.resize="orientationchange"):(vt.mousedown="mousedown touchstart",vt.mouseup="mouseup touchend",vt.mousemove="mousemove touchmove",vt.mousecancel="mouseleave touchcancel",vt.click="click",vt.resize="resize"):vt.pointers?(vt.mousemove="pointermove",vt.mousedown="pointerdown",vt.mouseup="pointerup",vt.mousecancel="pointercancel",vt.click="pointerup",vt.resize="orientationchange resize"):vt.msPointers?(vt.mousemove="MSPointerMove",vt.mousedown="MSPointerDown",vt.mouseup="MSPointerUp",vt.mousecancel="MSPointerCancel",vt.click="MSPointerUp",vt.resize="orientationchange resize"):(vt.mousemove="mousemove",vt.mousedown="mousedown",vt.mouseup="mouseup",vt.mousecancel="mouseleave",vt.click="click",vt.resize="resize"),$=function(e,t){var n,r,o,i,s=t||"d",a=1;for(r=0,o=e.length;o>r;r++)i=e[r],""!==i&&(n=i.indexOf("["),0!==n&&(-1==n?i="."+i:(a++,i="."+i.substring(0,n)+" || {})"+i.substring(n))),a++,s+=i+(o-1>r?" || {})":")"));return Array(a).join("(")+s},V=/^([a-z]+:)?\/\//i,ft(dt,{ui:dt.ui||{},fx:dt.fx||h,effects:dt.effects||R,mobile:dt.mobile||{},data:dt.data||{},dataviz:dt.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:dt.support||vt,animate:dt.animate||y,ns:"",attr:function(e){return"data-"+dt.ns+e},wrap:i,deepExtend:s,getComputedStyles:d,size:f,toCamelCase:c,toHyphens:l,getOffset:dt.getOffset||m,parseEffects:dt.parseEffects||p,toggleClass:dt.toggleClass||v,directions:dt.directions||L,Observable:H,Class:n,Template:D,template:ht(D.compile,D),render:ht(D.render,D),stringify:ht(wt.stringify,wt),eventTarget:Y,htmlEncode:b,isLocalUrl:function(e){return e&&!V.test(e)},expr:function(e,t,n){return e=e||"",typeof t==kt&&(n=t,t=!1),n=n||"d",e&&"["!==e.charAt(0)&&(e="."+e),e=t?$(e.split("."),n):n+e},getter:function(e,t){return Pt[e]=Pt[e]||Function("d","return "+dt.expr(e,t))},setter:function(e){return Ht[e]=Ht[e]||Function("d,value",dt.expr(e)+"=value")},accessor:function(e){return{get:dt.getter(e),set:dt.setter(e)}},guid:function(){var e,t,n="";for(e=0;32>e;e++)t=16*yt.random()|0,(8==e||12==e||16==e||20==e)&&(n+="-"),n+=(12==e?4:16==e?3&t|8:t).toString(16);return n},roleSelector:function(e){return e.replace(/(\S+)/g,"["+dt.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},logToConsole:function(e){var n=window.console;t!==n&&n.log&&n.log(e)}}),q=H.extend({init:function(e,t){var n=this;n.element=dt.jQuery(e).handler(n),H.fn.init.call(n),t=n.options=ft(!0,{},n.options,t),n.element.attr(dt.attr("role"))||n.element.attr(dt.attr("role"),(t.name||"").toLowerCase()),n.element.data("kendo"+t.prefix+t.name,n),n.bind(n.events,t)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(e){e=e||this.wrapper;var t=this.element,n="tabindex",r=e.attr(n)||t.attr(n);t.removeAttr(n),e.attr(n,isNaN(r)?0:r)},setOptions:function(t){for(var n,r=this,o=0,i=r.events.length;i>o;o++)n=r.events[o],r.options[n]&&t[n]&&r.unbind(n,r.options[n]);e.extend(r.options,t),r.bind(r.events,t)},resize:function(e){var t=this.getSize(),n=this._size;(e||!n||t.width!==n.width||t.height!==n.height)&&(this._resize(t),this.trigger("resize",t),this._size=t)},getSize:function(){return dt.dimensions(this.element)},size:function(e){return e?(this.setSize(e),t):this.getSize()},setSize:e.noop,_resize:e.noop,destroy:function(){var e=this;e.element.removeData("kendo"+e.options.prefix+e.options.name),e.element.removeData("handler"),e.unbind()}}),dt.dimensions=function(e,t){var n=e[0];return t&&e.css(t),{width:n.offsetWidth,height:n.offsetHeight}},dt.notify=gt,G=/template$/i,Q=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,Z=/^\{(\d+)(:[^\}]+)?\}/,K=/([A-Z])/g,dt.initWidget=function(n,r,o){var i,s,a,u,l,c,d,f;if(o?o.roles&&(o=o.roles):o=dt.ui.roles,n=n.nodeType?n:n[0],c=n.getAttribute("data-"+dt.ns+"role"),c&&(a=-1===c.indexOf(".")?o[c]:dt.getter(c)(window))){for(f=M(n,"dataSource"),r=e.extend({},S(n,a.fn.options),r),f&&(r.dataSource=typeof f===kt?dt.getter(f)(window):f),u=0,l=a.fn.events.length;l>u;u++)s=a.fn.events[u],d=M(n,s),d!==t&&(r[s]=dt.getter(d)(window));return i=e(n).data("kendo"+a.fn.options.prefix+a.fn.options.name),i?i.setOptions(r):i=new a(n,r),i}},dt.rolesFromNamespaces=function(e){var t,n,r=[];for(e[0]||(e=[dt.ui,dt.dataviz.ui]),t=0,n=e.length;n>t;t++)r[t]=e[t].roles;return ft.apply(null,[{}].concat(r.reverse()))},dt.init=function(t){var n=dt.rolesFromNamespaces(Et.call(arguments,1));e(t).find("[data-"+dt.ns+"role]").addBack().each(function(){dt.initWidget(this,{},n)})},dt.destroy=function(t){e(t).find("[data-"+dt.ns+"role]").addBack().each(function(){var t=dt.widgetInstance(e(this));t&&t.destroy()})},dt.resize=function(t){var n,r=e(t).find("[data-"+dt.ns+"role]").addBack().filter(x);r.length&&(n=e.makeArray(r),n.sort(T),e.each(n,function(){var t=dt.widgetInstance(e(this));t&&t.resize()}))},dt.parseOptions=S,ft(dt.ui,{Widget:q,roles:{},progress:function(t,n){var r,o,i,s,a=t.find(".k-loading-mask"),u=dt.support,l=u.browser;n?a.length||(r=u.isRtl(t),o=r?"right":"left",s=t.scrollLeft(),i=l.webkit?r?t[0].scrollWidth-t.width()-2*s:0:0,a=e("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",t.scrollTop()).css(o,Math.abs(s)+i).prependTo(t)):a&&a.remove()
},plugin:function(n,r,o){var i,s=n.fn.options.name;r=r||dt.ui,o=o||"",r[s]=n,r.roles[s.toLowerCase()]=n,i="getKendo"+o+s,s="kendo"+o+s,e.fn[s]=function(r){var o,i=this;return typeof r===kt?(o=Et.call(arguments,1),this.each(function(){var n,a,u=e.data(this,s);if(!u)throw Error(dt.format("Cannot call method '{0}' of {1} before it is initialized",r,s));if(n=u[r],typeof n!==xt)throw Error(dt.format("Cannot find method '{0}' of {1}",r,s));return a=n.apply(u,o),a!==t?(i=a,!1):t})):this.each(function(){new n(this,r)}),i},e.fn[i]=function(){return this.data(s)}}}),X={bind:function(){return this}},et=q.extend({init:function(e,t){q.fn.init.call(this,e,t),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){q.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var e=this.element.closest(dt.roleSelector("view splitview modalview drawer"));return dt.widgetInstance(e,dt.mobile.ui)},container:function(){var e=this.element.closest(dt.roleSelector("view layout modalview drawer"));return dt.widgetInstance(e,dt.mobile.ui)||X}}),ft(dt.mobile,{init:function(e){dt.init(e,dt.mobile.ui,dt.ui,dt.dataviz.ui)},ui:{Widget:et,roles:{},plugin:function(e){dt.ui.plugin(e,dt.mobile.ui,"Mobile")}}}),dt.touchScroller=function(t,n){return e(t).map(function(t,r){return r=e(r),vt.kineticScrollNeeded&&dt.mobile.ui.Scroller&&!r.data("kendoMobileScroller")?(r.kendoMobileScroller(n),r.data("kendoMobileScroller")):!1})[0]},dt.preventDefault=function(e){e.preventDefault()},dt.widgetInstance=function(e,t){var n,r,o,i,s,a=e.data(dt.ns+"role");if(a)for("content"===a&&(a="scroller"),n=t?[t.roles[a]]:[dt.ui.roles[a],dt.dataviz.ui.roles[a],dt.mobile.ui.roles[a]],a.indexOf(".")>=0&&(n=[dt.getter(a)(window)]),r=0,o=n.length;o>r;r++)if(i=n[r],i&&(s=e.data("kendo"+i.fn.options.prefix+i.fn.options.name)))return s},dt.onResize=function(t){var n=t;return vt.mobileOS.android&&(n=function(){setTimeout(t,600)}),e(window).on(vt.resize,n),n},dt.unbindResize=function(t){e(window).off(vt.resize,t)},dt.attrValue=function(e,t){return e.data(dt.ns+t)},dt.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},e.extend(e.expr[":"],{kendoFocusable:function(t){var n=e.attr(t,"tabindex");return k(t,!isNaN(n)&&n>-1)}}),tt=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],nt="label, input, [data-rel=external]",rt={setupMouseMute:function(){var t,n=0,r=tt.length,o=document.documentElement;if(!rt.mouseTrap&&vt.eventCapture)for(rt.mouseTrap=!0,rt.bustClick=!1,rt.captureMouse=!1,t=function(t){rt.captureMouse&&("click"===t.type?rt.bustClick&&!e(t.target).is(nt)&&(t.preventDefault(),t.stopPropagation()):t.stopPropagation())};r>n;n++)o.addEventListener(tt[n],t,!0)},muteMouse:function(e){rt.captureMouse=!0,e.data.bustClick&&(rt.bustClick=!0),clearTimeout(rt.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(rt.mouseTrapTimeoutID),rt.mouseTrapTimeoutID=setTimeout(function(){rt.captureMouse=!1,rt.bustClick=!1},400)}},ot={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"},vt.touch&&(vt.mobileOS.ios||vt.mobileOS.android)?ot={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:vt.pointers?ot={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:vt.msPointers&&(ot={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!vt.msPointers||"onmspointerenter"in window||e.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(t,n){e.event.special[t]={delegateType:n,bindType:n,handle:function(t){var r,o=this,i=t.relatedTarget,s=t.handleObj;return(!i||i!==o&&!e.contains(o,i))&&(t.type=s.origType,r=s.handler.apply(this,arguments),t.type=n),r}}}),it=function(e){return ot[e]||e},st=/([^ ]+)/g,dt.applyEventMap=function(e,t){return e=e.replace(st,it),t&&(e=e.replace(st,"$1."+t)),e},at=e.fn.on,ft(!0,O,e),O.fn=O.prototype=new e,O.fn.constructor=O,O.fn.init=function(t,n){return n&&n instanceof e&&!(n instanceof O)&&(n=O(n)),e.fn.init.call(this,t,n,ut)},O.fn.init.prototype=O.fn,ut=O(document),ft(O.fn,{handler:function(e){return this.data("handler",e),this},autoApplyNS:function(e){return this.data("kendoNS",e||dt.guid()),this},on:function(){var e,t,n,r,o,i,s=this,a=s.data("kendoNS");return 1===arguments.length?at.call(s,arguments[0]):(e=s,t=Et.call(arguments),typeof t[t.length-1]===At&&t.pop(),n=t[t.length-1],r=dt.applyEventMap(t[0],a),vt.mouseAndTouchPresent&&r.search(/mouse|click/)>-1&&this[0]!==document.documentElement&&(rt.setupMouseMute(),o=2===t.length?null:t[1],i=r.indexOf("click")>-1&&r.indexOf("touchend")>-1,at.call(this,{touchstart:rt.muteMouse,touchend:rt.unMuteMouse},o,{bustClick:i})),typeof n===kt&&(e=s.data("handler"),n=e[n],t[t.length-1]=function(t){n.call(e,t)}),t[0]=r,at.apply(s,t),s)},kendoDestroy:function(e){return e=e||this.data("kendoNS"),e&&this.off("."+e),this}}),dt.jQuery=O,dt.eventMap=ot,dt.timezone=function(){function e(e,t){var n,r,o,i=t[3],s=t[4],a=t[5],u=t[8];return u||(t[8]=u={}),u[e]?u[e]:(isNaN(s)?0===s.indexOf("last")?(n=new Date(Date.UTC(e,c[i]+1,1,a[0]-24,a[1],a[2],0)),r=d[s.substr(4,3)],o=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+r-o-(r>o?7:0))):s.indexOf(">=")>=0&&(n=new Date(Date.UTC(e,c[i],s.substr(5),a[0],a[1],a[2],0)),r=d[s.substr(0,3)],o=n.getUTCDay(),n.setUTCDate(n.getUTCDate()+r-o+(o>r?7:0))):n=new Date(Date.UTC(e,c[i],s,a[0],a[1],a[2],0)),u[e]=n)}function t(t,n,r){var o,i,s;return(n=n[r])?(s=new Date(t).getUTCFullYear(),n=jQuery.grep(n,function(e){var t=e[0],n=e[1];return s>=t&&(n>=s||t==s&&"only"==n||"max"==n)}),n.push(t),n.sort(function(t,n){return"number"!=typeof t&&(t=+e(s,t)),"number"!=typeof n&&(n=+e(s,n)),t-n}),n[jQuery.inArray(t,n)-1]):(o=r.split(":"),i=0,o.length>1&&(i=60*o[0]+ +o[1]),[-1e6,"max","-","Jan",1,[0,0,0],i,"-"])}function n(e,t,n){var r,o,i,s=t[n];if("string"==typeof s&&(s=t[s]),!s)throw Error('Timezone "'+n+'" is either incorrect, or kendo.timezones.min.js is not included.');for(r=s.length-1;r>=0&&(o=s[r][3],!(o&&e>o));r--);if(i=s[r+1],!i)throw Error('Timezone "'+n+'" not found on '+e+".");return i}function r(e,r,o,i){typeof e!=zt&&(e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));var s=n(e,r,i);return{zone:s,rule:t(e,o,s[1])}}function o(e,t){var n,o,i;return"Etc/UTC"==t||"Etc/GMT"==t?0:(n=r(e,this.zones,this.rules,t),o=n.zone,i=n.rule,i?o[0]-i[6]:o[0])}function i(e,t){var n=r(e,this.zones,this.rules,t),o=n.zone,i=n.rule,s=o[2];return s.indexOf("/")>=0?s.split("/")[i&&i[6]?1:0]:s.indexOf("%s")>=0?s.replace("%s",i&&"-"!=i[7]?i[7]:""):s}function s(e,t,n){var r,o;return typeof t==kt&&(t=this.offset(e,t)),typeof n==kt&&(n=this.offset(e,n)),r=e.getTimezoneOffset(),e=new Date(e.getTime()+6e4*(t-n)),o=e.getTimezoneOffset(),new Date(e.getTime()+6e4*(o-r))}function a(e,t){return this.convert(e,e.getTimezoneOffset(),t)}function u(e,t){return this.convert(e,t,e.getTimezoneOffset())}function l(e){return this.apply(new Date(e),"Etc/UTC")}var c={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},d={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:o,convert:s,apply:a,remove:u,abbr:i,toLocalDate:l}}(),dt.date=function(){function e(e,t){return 0===t&&23===e.getHours()?(e.setHours(e.getHours()+2),!0):!1}function t(t,n,r){var o=t.getHours();r=r||1,n=(n-t.getDay()+7*r)%7,t.setDate(t.getDate()+n),e(t,o)}function n(e,n,r){return e=new Date(e),t(e,n,r),e}function r(e){return new Date(e.getFullYear(),e.getMonth(),1)}function o(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0),n=r(e),o=Math.abs(t.getTimezoneOffset()-n.getTimezoneOffset());return o&&t.setHours(n.getHours()+o/60),t}function i(t){return t=new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0),e(t,0),t}function s(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function a(e){return e.getTime()-i(e)}function u(e,t,n){var r,o=a(t),i=a(n);return e&&o!=i?(t>=n&&(n+=g),r=a(e),o>r&&(r+=g),o>i&&(i+=g),r>=o&&i>=r):!0}function l(e,t,n){var r,o=t.getTime(),i=n.getTime();return o>=i&&(i+=g),r=e.getTime(),r>=o&&i>=r}function c(t,n){var r=t.getHours();return t=new Date(t),d(t,n*g),e(t,r),t}function d(e,t,n){var r,o=e.getTimezoneOffset();e.setTime(e.getTime()+t),n||(r=e.getTimezoneOffset()-o,e.setTime(e.getTime()+r*h))}function f(){return i(new Date)}function m(e){return i(e).getTime()==f().getTime()}function p(e){var t=new Date(1980,1,1,0,0,0);return e&&t.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),t}var h=6e4,g=864e5;return{adjustDST:e,dayOfWeek:n,setDayOfWeek:t,getDate:i,isInDateRange:l,isInTimeRange:u,isToday:m,nextDay:function(e){return c(e,1)},previousDay:function(e){return c(e,-1)},toUtcTime:s,MS_PER_DAY:g,MS_PER_MINUTE:h,setTime:d,addDays:c,today:f,toInvariantTime:p,firstDayOfMonth:r,lastDayOfMonth:o,getMilliseconds:a}}(),dt.stripWhitespace=function(e){for(var t=document.createNodeIterator(e,NodeFilter.SHOW_TEXT,function(t){return t.parentNode==e?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);t.nextNode();)t.referenceNode&&!t.referenceNode.textContent.trim()&&t.referenceNode.parentNode.removeChild(t.referenceNode)},lt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},dt.animationFrame=function(e){lt.call(window,e)},ct=[],dt.queueAnimation=function(e){ct[ct.length]=e,1===ct.length&&dt.runNextAnimation()},dt.runNextAnimation=function(){var e=ct.shift();dt.animationFrame(function(){e(),lt[0]&&dt.runNextAnimation()})},dt.parseQueryStringParams=function(e){for(var t=e.split("?")[1]||"",n={},r=t.split(/&|=/),o=r.length,i=0;o>i;i+=2)""!==r[i]&&(n[decodeURIComponent(r[i])]=decodeURIComponent(r[i+1]));return n}}(jQuery),"undefined"==typeof kendo_module&&(kendo_module=function(){});;!function(e,t){function r(e,t,r,n){return function(i){var a,s={};for(a in i)s[a]=i[a];s.field=n?r+"."+i.field:r,t==vt&&e._notifyChange&&e._notifyChange(s),e.trigger(t,s)}}function n(t,r){if(t===r)return!0;var i,a=e.type(t),s=e.type(r);if(a!==s)return!1;if("date"===a)return t.getTime()===r.getTime();if("object"!==a&&"array"!==a)return!1;for(i in t)if(!n(t[i],r[i]))return!1;return!0}function i(e,t){var r,n;for(n in e){if(r=e[n],et(r)&&r.field&&r.field===t)return r;if(r===t)return r}return null}function a(e){this.data=e||[]}function s(e,r){if(e){var n=typeof e===ft?{field:e,dir:r}:e,i=rt(n)?n:n!==t?[n]:[];return nt(i,function(e){return!!e.dir})}}function o(e){var t,r,n,i,a=e.filters;if(a)for(t=0,r=a.length;r>t;t++)n=a[t],i=n.operator,i&&typeof i===ft&&(n.operator=B[i.toLowerCase()]||i),o(n)}function u(e){return e&&!tt(e)?((rt(e)||!e.filters)&&(e={logic:"and",filters:rt(e)?e:[e]}),o(e),e):t}function l(e){return rt(e)?e:[e]}function d(e,r){var n=typeof e===ft?{field:e,dir:r}:e,i=rt(n)?n:n!==t?[n]:[];return N(i,function(e){return{field:e.field,dir:e.dir||"asc",aggregates:e.aggregates}})}function f(e,t){return e&&e.getTime&&t&&t.getTime?e.getTime()===t.getTime():e===t}function c(e,t,r,n,i){var a,s,o,u,l;for(t=t||[],u=t.length,a=0;u>a;a++)s=t[a],o=s.aggregate,l=s.field,e[l]=e[l]||{},e[l][o]=G[o.toLowerCase()](e[l][o],r,ot.accessor(l),n,i)}function h(e){return"number"==typeof e&&!isNaN(e)}function g(e){var t,r=e.length,n=Array(r);for(t=0;r>t;t++)n[t]=e[t].toJSON();return n}function p(e,t){t=t||{};var r=new a(e),n=t.aggregate,i=t.filter;return i&&(r=r.filter(i)),r.aggregate(n)}function _(e,t,r,n,i){var a,s,o,u,l;for(u=0,l=e.length;l>u;u++){a=e[u];for(s in t)o=i[s],o&&o!==s&&(a[o]=t[s](a),delete a[s])}}function v(e,t,r,n,i){var a,s,o,u,l;for(u=0,l=e.length;l>u;u++){a=e[u];for(s in t)a[s]=r._parse(s,t[s](a)),o=i[s],o&&o!==s&&delete a[o]}}function m(e,t,r,n,i){var a,s,o,u;for(s=0,u=e.length;u>s;s++)a=e[s],o=n[a.field],o&&o!=a.field&&(a.field=o),a.value=r._parse(a.field,a.value),a.hasSubgroups?m(a.items,t,r,n,i):v(a.items,t,r,n,i)}function y(e,t,r,n,i,a){return function(s){return s=e(s),s&&!tt(n)&&("[object Array]"===Nt.call(s)||s instanceof Gt||(s=[s]),r(s,n,new t,i,a)),s||[]}}function S(e,t,r,n){for(var i,a,s,o=0;t.length&&n&&(i=t[o],a=i.items,s=a.length,e&&e.field===i.field&&e.value===i.value?(e.hasSubgroups&&e.items.length?S(e.items[e.items.length-1],i.items,r,n):(a=a.slice(r,r+n),e.items=e.items.concat(a)),t.splice(o--,1)):i.hasSubgroups&&a.length?S(i,a,r,n):(a=a.slice(r,r+n),i.items=a,i.items.length||t.splice(o--,1)),0===a.length?r-=s:(r=0,n-=a.length),!(++o>=t.length)););o<t.length&&t.splice(o,t.length-o)}function b(e){var t,r,n=[];for(t=0,r=e.length;r>t;t++)n=e[t].hasSubgroups?n.concat(b(e[t].items)):n.concat(e[t].items.slice());return n}function w(e,t){var r,n,i,a;if(t)for(r=0,n=e.length;n>r;r++)i=e[r],a=i.items,i.hasSubgroups?w(a,t):!a.length||a[0]instanceof t||(a.type=t,a.wrapAll(a,a))}function x(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].hasSubgroups){if(x(e[r].items,t))return!0}else if(t(e[r].items,e[r]))return!0}function k(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(e[r].uid==t.uid)return t=e[r],e.splice(r,1),t}function q(e,t){var r,n,i,a;for(i=e.length-1,a=0;i>=a;i--)n=e[i],r={value:t.get(n.field),field:n.field,items:r?[r]:[t],hasSubgroups:!!r,aggregates:{}};return r}function C(e,t){return t?O(e,function(e){return e[t.idField]===t.id}):-1}function z(e,t){return t?O(e,function(e){return e.uid==t.uid}):-1}function O(e,t){var r,n;for(r=0,n=e.length;n>r;r++)if(t(e[r]))return r;return-1}function R(e,t){var r,n;return e&&!tt(e)?(r=e[t],n=et(r)?r.from||r.field||t:e[t]||t,ut(n)?t:n):t}function F(e,t){var r,n,i,a={};for(i in e)"filters"!==i&&(a[i]=e[i]);if(e.filters)for(a.filters=[],r=0,n=e.filters.length;n>r;r++)a.filters[r]=F(e.filters[r],t);else a.field=R(t.fields,a.field);return a}function T(e,t){var r,n,i,a,s,o=[];for(r=0,n=e.length;n>r;r++){i={},a=e[r];for(s in a)i[s]=a[s];i.field=R(t.fields,i.field),i.aggregates&&rt(i.aggregates)&&(i.aggregates=T(i.aggregates,t)),o.push(i)}return o}function P(t,r){var n,i,a,s,o,u=e(t)[0].children,l=[],d=r[0],f=r[1];for(n=0,i=u.length;i>n;n++)a={},o=u[n],o.disabled||(a[d.field]=o.text,s=o.attributes.value,s=s&&s.specified?o.value:o.text,a[f.field]=s,l.push(a));return l}function A(t,r){var n,i,a,s,o,u,l,d=e(t)[0].tBodies[0],f=d?d.rows:[],c=r.length,h=[];for(n=0,i=f.length;i>n;n++){for(o={},l=!0,s=f[n].cells,a=0;c>a;a++)u=s[a],"th"!==u.nodeName.toLowerCase()&&(l=!1,o[r[a].field]=u.innerHTML);l||h.push(o)}return h}function M(e){return function(){var t=this._data,r=V.fn[e].apply(this,Mt.call(arguments));return this._data!=t&&this._attachBubbleHandlers(),r}}function D(t,r){function n(e,t){return e.filter(t).add(e.find(t))}var i,a,s,o,u,l,d,f,c=e(t).children(),h=[],g=r[0].field,p=r[1]&&r[1].field,_=r[2]&&r[2].field,v=r[3]&&r[3].field;for(i=0,a=c.length;a>i;i++)s={_loaded:!0},o=c.eq(i),l=o[0].firstChild,f=o.children(),t=f.filter("ul"),f=f.filter(":not(ul)"),u=o.attr("data-id"),u&&(s.id=u),l&&(s[g]=3==l.nodeType?l.nodeValue:f.text()),p&&(s[p]=n(f,"a").attr("href")),v&&(s[v]=n(f,"img").attr("src")),_&&(d=n(f,".k-sprite").prop("className"),s[_]=d&&e.trim(d.replace("k-sprite",""))),t.length&&(s.items=D(t.eq(0),r)),"true"==o.attr("data-hasChildren")&&(s.hasChildren=!0),h.push(s);return h}var N,j,I,L,B,G,E,H,J,U,V,W,Q,$,K,X,Y=e.extend,Z=e.proxy,et=e.isPlainObject,tt=e.isEmptyObject,rt=e.isArray,nt=e.grep,it=e.ajax,at=e.each,st=e.noop,ot=window.kendo,ut=ot.isFunction,lt=ot.Observable,dt=ot.Class,ft="string",ct="function",ht="create",gt="read",pt="update",_t="destroy",vt="change",mt="sync",yt="get",St="error",bt="requestStart",wt="progress",xt="requestEnd",kt=[ht,gt,pt,_t],qt=function(e){return e},Ct=ot.getter,zt=ot.stringify,Ot=Math,Rt=[].push,Ft=[].join,Tt=[].pop,Pt=[].splice,At=[].shift,Mt=[].slice,Dt=[].unshift,Nt={}.toString,jt=ot.support.stableSort,It=/^\/Date\((.*?)\)\/$/,Lt=/(\r+|\n+)/g,Bt=/(?=['\\])/g,Gt=lt.extend({init:function(e,t){var r=this;r.type=t||Et,lt.fn.init.call(r),r.length=e.length,r.wrapAll(e,r)},toJSON:function(){var e,t,r=this.length,n=Array(r);for(e=0;r>e;e++)t=this[e],t instanceof Et&&(t=t.toJSON()),n[e]=t;return n},parent:st,wrapAll:function(e,t){var r,n,i=this,a=function(){return i};for(t=t||[],r=0,n=e.length;n>r;r++)t[r]=i.wrap(e[r],a);return t},wrap:function(e,t){var r,n=this;return null!==e&&"[object Object]"===Nt.call(e)&&(r=e instanceof n.type||e instanceof Ut,r||(e=e instanceof Et?e.toJSON():e,e=new n.type(e)),e.parent=t,e.bind(vt,function(e){n.trigger(vt,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemchange":"itemchange"})})),e},push:function(){var e,t=this.length,r=this.wrapAll(arguments);return e=Rt.apply(this,r),this.trigger(vt,{action:"add",index:t,items:r}),e},slice:Mt,join:Ft,pop:function(){var e=this.length,t=Tt.apply(this);return e&&this.trigger(vt,{action:"remove",index:e-1,items:[t]}),t},splice:function(e,t,r){var n,i,a,s=this.wrapAll(Mt.call(arguments,2));if(n=Pt.apply(this,[e,t].concat(s)),n.length)for(this.trigger(vt,{action:"remove",index:e,items:n}),i=0,a=n.length;a>i;i++)n[i].children&&n[i].unbind(vt);return r&&this.trigger(vt,{action:"add",index:e,items:s}),n},shift:function(){var e=this.length,t=At.apply(this);return e&&this.trigger(vt,{action:"remove",index:0,items:[t]}),t},unshift:function(){var e,t=this.wrapAll(arguments);return e=Dt.apply(this,t),this.trigger(vt,{action:"add",index:0,items:t}),e},indexOf:function(e){var t,r,n=this;for(t=0,r=n.length;r>t;t++)if(n[t]===e)return t;return-1},forEach:function(e){for(var t=0,r=this.length;r>t;t++)e(this[t],t,this)},map:function(e){for(var t=0,r=[],n=this.length;n>t;t++)r[t]=e(this[t],t,this);return r},filter:function(e){for(var t,r=0,n=[],i=this.length;i>r;r++)t=this[r],e(t,r,this)&&(n[n.length]=t);return n},find:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],e(t,r,this))return t},every:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],!e(t,r,this))return!1;return!0},some:function(e){for(var t,r=0,n=this.length;n>r;r++)if(t=this[r],e(t,r,this))return!0;return!1},remove:function(e){this.splice(this.indexOf(e),1)},empty:function(){this.splice(0,this.length)}}),Et=lt.extend({init:function(e){var t,r,n=this,i=function(){return n};lt.fn.init.call(this);for(r in e)t=e[r],"_"!=r.charAt(0)&&(t=n.wrap(t,r,i)),n[r]=t;n.uid=ot.guid()},shouldSerialize:function(e){return this.hasOwnProperty(e)&&"_events"!==e&&typeof this[e]!==ct&&"uid"!==e},forEach:function(e){for(var t in this)this.shouldSerialize(t)&&e(this[t],t)},toJSON:function(){var e,t,r={};for(t in this)this.shouldSerialize(t)&&(e=this[t],(e instanceof Et||e instanceof Gt)&&(e=e.toJSON()),r[t]=e);return r},get:function(e){var t,r=this;return r.trigger(yt,{field:e}),t="this"===e?r:ot.getter(e,!0)(r)},_set:function(e,t){var r,n,i,a=this,s=e.indexOf(".")>=0;if(s)for(r=e.split("."),n="";r.length>1;){if(n+=r.shift(),i=ot.getter(n,!0)(a),i instanceof Et)return i.set(r.join("."),t),s;n+="."}return ot.setter(e)(a,t),s},set:function(e,t){var r=this,n=ot.getter(e,!0)(r);n!==t&&(r.trigger("set",{field:e,value:t})||(!r._set(e,r.wrap(t,e,function(){return r}))||e.indexOf("(")>=0||e.indexOf("[")>=0)&&r.trigger(vt,{field:e}))},parent:st,wrap:function(e,t,n){var i,a,s=this,o=Nt.call(e);return null==e||"[object Object]"!==o&&"[object Array]"!==o||(i=e instanceof Gt,a=e instanceof V,"[object Object]"!==o||a||i?("[object Array]"===o||i||a)&&(i||a||(e=new Gt(e)),e.parent()!=n()&&e.bind(vt,r(s,vt,t,!1))):(e instanceof Et||(e=new Et(e)),e.parent()!=n()&&(e.bind(yt,r(s,yt,t,!0)),e.bind(vt,r(s,vt,t,!0)))),e.parent=n),e}}),Ht={number:function(e){return ot.parseFloat(e)},date:function(e){return ot.parseDate(e)},"boolean":function(e){return typeof e===ft?"true"===e.toLowerCase():null!=e?!!e:e},string:function(e){return null!=e?e+"":e},"default":function(e){return e}},Jt={string:"",number:0,date:new Date,"boolean":!1,"default":""},Ut=Et.extend({init:function(r){var n=this;(!r||e.isEmptyObject(r))&&(r=e.extend({},n.defaults,r)),Et.fn.init.call(n,r),n.dirty=!1,n.idField&&(n.id=n.get(n.idField),n.id===t&&(n.id=n._defaultId))},shouldSerialize:function(e){return Et.fn.shouldSerialize.call(this,e)&&"uid"!==e&&!("id"!==this.idField&&"id"===e)&&"dirty"!==e&&"_accessors"!==e},_parse:function(e,t){var r,n=this,a=e,s=n.fields||{};return e=s[e],e||(e=i(s,a)),e&&(r=e.parse,!r&&e.type&&(r=Ht[e.type.toLowerCase()])),r?r(t):t},_notifyChange:function(e){var t=e.action;("add"==t||"remove"==t)&&(this.dirty=!0)},editable:function(e){return e=(this.fields||{})[e],e?e.editable!==!1:!0},set:function(e,t,r){var i=this;i.editable(e)&&(t=i._parse(e,t),n(t,i.get(e))||(i.dirty=!0,Et.fn.set.call(i,e,t,r)))},accept:function(e){var t,r,n=this,i=function(){return n};for(t in e)r=e[t],"_"!=t.charAt(0)&&(r=n.wrap(e[t],t,i)),n._set(t,r);n.idField&&(n.id=n.get(n.idField)),n.dirty=!1},isNew:function(){return this.id===this._defaultId}});Ut.define=function(e,r){r===t&&(r=e,e=Ut);var n,i,a,s,o,u,l,d,f=Y({defaults:{}},r),c={},h=f.id;if(h&&(f.idField=h),f.id&&delete f.id,h&&(f.defaults[h]=f._defaultId=""),"[object Array]"===Nt.call(f.fields)){for(u=0,l=f.fields.length;l>u;u++)a=f.fields[u],typeof a===ft?c[a]={}:a.field&&(c[a.field]=a);f.fields=c}for(i in f.fields)a=f.fields[i],s=a.type||"default",o=null,d=i,i=typeof a.field===ft?a.field:i,a.nullable||(o=f.defaults[d!==i?d:i]=a.defaultValue!==t?a.defaultValue:Jt[s.toLowerCase()]),r.id===i&&(f._defaultId=o),f.defaults[d!==i?d:i]=o,a.parse=a.parse||Ht[s];return n=e.extend(f),n.define=function(e){return Ut.define(n,e)},f.fields&&(n.fields=f.fields,n.idField=f.idField),n},j={selector:function(e){return ut(e)?e:Ct(e)},compare:function(e){var t=this.selector(e);return function(e,r){return e=t(e),r=t(r),null==e&&null==r?0:null==e?-1:null==r?1:e.localeCompare?e.localeCompare(r):e>r?1:r>e?-1:0}},create:function(e){var t=e.compare||this.compare(e.field);return"desc"==e.dir?function(e,r){return t(r,e,!0)}:t},combine:function(e){return function(t,r){var n,i,a=e[0](t,r);for(n=1,i=e.length;i>n;n++)a=a||e[n](t,r);return a}}},I=Y({},j,{asc:function(e){var t=this.selector(e);return function(e,r){var n=t(e),i=t(r);return n&&n.getTime&&i&&i.getTime&&(n=n.getTime(),i=i.getTime()),n===i?e.__position-r.__position:null==n?-1:null==i?1:n.localeCompare?n.localeCompare(i):n>i?1:-1}},desc:function(e){var t=this.selector(e);return function(e,r){var n=t(e),i=t(r);return n&&n.getTime&&i&&i.getTime&&(n=n.getTime(),i=i.getTime()),n===i?e.__position-r.__position:null==n?1:null==i?-1:i.localeCompare?i.localeCompare(n):i>n?1:-1}},create:function(e){return this[e.dir](e.field)}}),N=function(e,t){var r,n=e.length,i=Array(n);for(r=0;n>r;r++)i[r]=t(e[r],r,e);return i},L=function(){function e(e){return e.replace(Bt,"\\").replace(Lt,"")}function t(t,r,n,i){var a;return null!=n&&(typeof n===ft&&(n=e(n),a=It.exec(n),a?n=new Date(+a[1]):i?(n="'"+n.toLowerCase()+"'",r="("+r+" || '').toLowerCase()"):n="'"+n+"'"),n.getTime&&(r="("+r+"?"+r+".getTime():"+r+")",n=n.getTime())),r+" "+t+" "+n}return{eq:function(e,r,n){return t("==",e,r,n)},neq:function(e,r,n){return t("!=",e,r,n)},gt:function(e,r,n){return t(">",e,r,n)},gte:function(e,r,n){return t(">=",e,r,n)},lt:function(e,r,n){return t("<",e,r,n)},lte:function(e,r,n){return t("<=",e,r,n)},startswith:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".lastIndexOf('"+r+"', 0) == 0"},endswith:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"', "+t+".length - "+(r||"").length+") >= 0"},contains:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"') >= 0"},doesnotcontain:function(t,r,n){return n&&(t="("+t+" || '').toLowerCase()",r&&(r=r.toLowerCase())),r&&(r=e(r)),t+".indexOf('"+r+"') == -1"}}}(),a.filterExpr=function(e){var r,n,i,s,o,u,l=[],d={and:" && ",or:" || "},f=[],c=[],h=e.filters;for(r=0,n=h.length;n>r;r++)i=h[r],o=i.field,u=i.operator,i.filters?(s=a.filterExpr(i),i=s.expression.replace(/__o\[(\d+)\]/g,function(e,t){return t=+t,"__o["+(c.length+t)+"]"}).replace(/__f\[(\d+)\]/g,function(e,t){return t=+t,"__f["+(f.length+t)+"]"}),c.push.apply(c,s.operators),f.push.apply(f,s.fields)):(typeof o===ct?(s="__f["+f.length+"](d)",f.push(o)):s=ot.expr(o),typeof u===ct?(i="__o["+c.length+"]("+s+", "+i.value+")",c.push(u)):i=L[(u||"eq").toLowerCase()](s,i.value,i.ignoreCase!==t?i.ignoreCase:!0)),l.push(i);return{expression:"("+l.join(d[e.logic])+")",fields:f,operators:c}},B={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"},a.normalizeFilter=u,a.prototype={toArray:function(){return this.data},range:function(e,t){return new a(this.data.slice(e,e+t))},skip:function(e){return new a(this.data.slice(e))},take:function(e){return new a(this.data.slice(0,e))},select:function(e){return new a(N(this.data,e))},order:function(e,t){var r={dir:t};return e&&(e.compare?r.compare=e.compare:r.field=e),new a(this.data.slice(0).sort(j.create(r)))},orderBy:function(e){return this.order(e,"asc")},orderByDescending:function(e){return this.order(e,"desc")},sort:function(e,t,r){var n,i,a=s(e,t),o=[];if(r=r||j,a.length){for(n=0,i=a.length;i>n;n++)o.push(r.create(a[n]));return this.orderBy({compare:r.combine(o)})}return this},filter:function(e){var t,r,n,i,s,o,l,d,f=this.data,c=[];if(e=u(e),!e||0===e.filters.length)return this;for(i=a.filterExpr(e),o=i.fields,l=i.operators,s=d=Function("d, __f, __o","return "+i.expression),(o.length||l.length)&&(d=function(e){return s(e,o,l)}),t=0,n=f.length;n>t;t++)r=f[t],d(r)&&c.push(r);return new a(c)},group:function(e,t){e=d(e||[]),t=t||this.data;var r,n=this,i=new a(n.data);return e.length>0&&(r=e[0],i=i.groupBy(r).select(function(n){var i=new a(t).filter([{field:n.field,operator:"eq",value:n.value,ignoreCase:!1}]);return{field:n.field,value:n.value,items:e.length>1?new a(n.items).group(e.slice(1),i.toArray()).toArray():n.items,hasSubgroups:e.length>1,aggregates:i.aggregate(r.aggregates)}})),i},groupBy:function(e){if(tt(e)||!this.data.length)return new a([]);var t,r,n,i,s=e.field,o=this._sortForGrouping(s,e.dir||"asc"),u=ot.accessor(s),l=u.get(o[0],s),d={field:s,value:l,items:[]},c=[d];for(n=0,i=o.length;i>n;n++)t=o[n],r=u.get(t,s),f(l,r)||(l=r,d={field:s,value:l,items:[]},c.push(d)),d.items.push(t);return new a(c)},_sortForGrouping:function(e,t){var r,n,i=this.data;if(!jt){for(r=0,n=i.length;n>r;r++)i[r].__position=r;for(i=new a(i).sort(e,t,I).toArray(),r=0,n=i.length;n>r;r++)delete i[r].__position;return i}return this.sort(e,t).toArray()},aggregate:function(e){var t,r,n={};if(e&&e.length)for(t=0,r=this.data.length;r>t;t++)c(n,e,this.data[t],t,r);return n}},G={sum:function(e,t,r){return(e||0)+r.get(t)},count:function(e){return(e||0)+1},average:function(e,t,r,n,i){return e=(e||0)+r.get(t),n==i-1&&(e/=i),e},max:function(e,t,r){var n=r.get(t);return e=e||0,n>e&&(e=n),e},min:function(e,t,r){var n=r.get(t);return h(e)||(e=n),e>n&&h(n)&&(e=n),e}},a.process=function(e,r){r=r||{};var n,i=new a(e),o=r.group,u=d(o||[]).concat(s(r.sort||[])),l=r.filter,f=r.skip,c=r.take;return l&&(i=i.filter(l),n=i.toArray().length),u&&(i=i.sort(u),o&&(e=i.toArray())),f!==t&&c!==t&&(i=i.range(f,c)),o&&(i=i.group(o,e)),{total:n,data:i.toArray()}},E=dt.extend({init:function(e){this.data=e.data},read:function(e){e.success(this.data)},update:function(e){e.success(e.data)},create:function(e){e.success(e.data)},destroy:function(e){e.success(e.data)}}),H=dt.extend({init:function(e){var t,r=this;e=r.options=Y({},r.options,e),at(kt,function(t,r){typeof e[r]===ft&&(e[r]={url:e[r]})}),r.cache=e.cache?J.create(e.cache):{find:st,add:st},t=e.parameterMap,r.parameterMap=ut(t)?t:function(e){var r={};return at(e,function(e,n){e in t&&(e=t[e],et(e)&&(n=e.value(n),e=e.key)),r[e]=n}),r}},options:{parameterMap:qt},create:function(e){return it(this.setup(e,ht))},read:function(r){var n,i,a,s=this,o=s.cache;r=s.setup(r,gt),n=r.success||st,i=r.error||st,a=o.find(r.data),a!==t?n(a):(r.success=function(e){o.add(r.data,e),n(e)},e.ajax(r))},update:function(e){return it(this.setup(e,pt))},destroy:function(e){return it(this.setup(e,_t))},setup:function(e,t){e=e||{};var r,n=this,i=n.options[t],a=ut(i.data)?i.data(e.data):i.data;return e=Y(!0,{},i,e),r=Y(!0,{},a,e.data),e.data=n.parameterMap(r,t),ut(e.url)&&(e.url=e.url(r)),e}}),J=dt.extend({init:function(){this._store={}},add:function(e,r){e!==t&&(this._store[zt(e)]=r)},find:function(e){return this._store[zt(e)]},clear:function(){this._store={}},remove:function(e){delete this._store[zt(e)]}}),J.create=function(e){var t={inmemory:function(){return new J}};return et(e)&&ut(e.find)?e:e===!0?new J:t[e]()},U=dt.extend({init:function(e){var t,r,n,i,a,s,o,u,l,d,f,c,h,g=this;e=e||{};for(t in e)r=e[t],g[t]=typeof r===ft?Ct(r):r;i=e.modelBase||Ut,et(g.model)&&(g.model=n=i.define(g.model)),g.model&&(a=Z(g.data,g),s=Z(g.groups,g),o=Z(g.serialize,g),u={},l={},d={},f={},c=!1,n=g.model,n.fields&&(at(n.fields,function(e,t){var r;h=e,et(t)&&t.field?h=t.field:typeof t===ft&&(h=t),et(t)&&t.from&&(r=t.from),c=c||r&&r!==e||h!==e,l[e]=Ct(r||h),d[e]=Ct(e),u[r||h]=e,f[e]=r||h}),!e.serialize&&c&&(g.serialize=y(o,n,_,d,u,f))),g.data=y(a,n,v,l,u,f),g.groups=y(s,n,m,l,u,f))},errors:function(e){return e?e.errors:null},parse:qt,data:qt,total:function(e){return e.length},groups:qt,aggregates:function(){return{}},serialize:function(e){return e}}),V=lt.extend({init:function(e){var r,n,i=this;e&&(n=e.data),e=i.options=Y({},i.options,e),i._map={},i._prefetch={},i._data=[],i._pristineData=[],i._ranges=[],i._view=[],i._pristine=[],i._destroyed=[],i._pageSize=e.pageSize,i._page=e.page||(e.pageSize?1:t),i._sort=s(e.sort),i._filter=u(e.filter),i._group=d(e.group),i._aggregate=e.aggregate,i._total=e.total,lt.fn.init.call(i),i.transport=W.create(e,n),i.reader=new ot.data.readers[e.schema.type||"json"](e.schema),r=i.reader.model||{},i._data=i._observe(i._data),i.bind([St,vt,bt,mt,xt,wt],e)},options:{data:[],schema:{modelBase:Ut},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var e=this.group()||[];return this.options.serverGrouping&&e.length},_flatData:function(e){return this._isServerGrouped()?b(e):e},parent:st,get:function(e){var t,r,n=this._flatData(this._data);for(t=0,r=n.length;r>t;t++)if(n[t].id==e)return n[t]},getByUid:function(e){var t,r,n=this._flatData(this._data);if(n)for(t=0,r=n.length;r>t;t++)if(n[t].uid==e)return n[t]},indexOf:function(e){return z(this._data,e)},at:function(e){return this._data[e]},data:function(e){var r=this;return e===t?r._data:(r._data=this._observe(e),r._ranges=[],r._addRange(r._data),r._total=r._data.length,r._process(r._data),t)},view:function(){return this._view},add:function(e){return this.insert(this._data.length,e)},_createNewModel:function(e){return this.reader.model?new this.reader.model(e):new Et(e)},insert:function(e,t){return t||(t=e,e=0),t instanceof Ut||(t=this._createNewModel(t)),this._isServerGrouped()?this._data.splice(e,0,q(this.group(),t)):this._data.splice(e,0,t),t},remove:function(e){var r,n=this,i=n._isServerGrouped();return this._eachItem(n._data,function(a){return r=k(a,e),r&&i?(r.isNew&&r.isNew()||n._destroyed.push(r),!0):t}),e},sync:function(){var t,r,n,i=this,a=[],s=[],o=i._destroyed,u=i._flatData(i._data);if(i.reader.model){for(t=0,r=u.length;r>t;t++)u[t].isNew()?a.push(u[t]):u[t].dirty&&s.push(u[t]);n=i._send("create",a),n.push.apply(n,i._send("update",s)),n.push.apply(n,i._send("destroy",o)),e.when.apply(null,n).then(function(){var e,t;for(e=0,t=arguments.length;t>e;e++)i._accept(arguments[e]);i._change({action:"sync"}),i.trigger(mt)})}},cancelChanges:function(e){var t=this;e instanceof ot.data.Model?t._cancelModel(e):(t._destroyed=[],t._data=t._observe(t._pristineData),t.options.serverPaging&&(t._total=t.reader.total(t._pristine)),t._change())},hasChanges:function(){var e,t,r=this._data;if(this._destroyed.length)return!0;for(e=0,t=r.length;t>e;e++)if(r[e].isNew()||r[e].dirty)return!0;return!1},_accept:function(t){var r,n=this,i=t.models,a=t.response,s=0,o=n._isServerGrouped(),u=n._pristineData,l=t.type;if(n.trigger(xt,{response:a,type:l}),a&&!tt(a)){if(a=n.reader.parse(a),n._handleCustomErrors(a))return;a=n.reader.data(a),e.isArray(a)||(a=[a])}else a=e.map(i,function(e){return e.toJSON()});for("destroy"===l&&(n._destroyed=[]),s=0,r=i.length;r>s;s++)"destroy"!==l?(i[s].accept(a[s]),"create"===l?u.push(o?q(n.group(),i[s]):a[s]):"update"===l&&n._updatePristineForModel(i[s],a[s])):n._removePristineForModel(i[s])},_updatePristineForModel:function(e,t){this._executeOnPristineForModel(e,function(e,r){ot.deepExtend(r[e],t)})},_executeOnPristineForModel:function(e,r){this._eachPristineItem(function(n){var i=C(n,e);return i>-1?(r(i,n),!0):t})},_removePristineForModel:function(e){this._executeOnPristineForModel(e,function(e,t){t.splice(e,1)})},_readData:function(e){var t=this._isServerGrouped()?this.reader.groups:this.reader.data;return t(e)},_eachPristineItem:function(e){this._eachItem(this._pristineData,e)},_eachItem:function(e,t){e&&e.length&&(this._isServerGrouped()?x(e,t):t(e))},_pristineForModel:function(e){var r,n,i=function(i){return n=C(i,e),n>-1?(r=i[n],!0):t};return this._eachPristineItem(i),r},_cancelModel:function(e){var t,r=this._pristineForModel(e);this._eachItem(this._data,function(n){t=z(n,e),-1!=t&&(!e.isNew()&&r?n[t].accept(r):n.splice(t,1))})},_promise:function(t,r,n){var i=this,a=i.transport;return e.Deferred(function(e){i.trigger(bt,{type:n}),a[n].call(a,Y({success:function(t){e.resolve({response:t,models:r,type:n})},error:function(t,r,n){e.reject(t),i.error(t,r,n)}},t))}).promise()},_send:function(e,t){var r,n,i=this,a=[],s=i.reader.serialize(g(t));if(i.options.batch)t.length&&a.push(i._promise({data:{models:s}},t,e));else for(r=0,n=t.length;n>r;r++)a.push(i._promise({data:s[r]},[t[r]],e));return a},read:function(e){var t=this,r=t._params(e);t._queueRequest(r,function(){t.trigger(bt,{type:"read"})?t._dequeueRequest():(t.trigger(wt),t._ranges=[],t.transport.read({data:r,success:Z(t.success,t),error:Z(t.error,t)}))})},success:function(r){var n=this,i=n.options;return n.trigger(xt,{response:r,type:"read"}),r=n.reader.parse(r),n._handleCustomErrors(r)?(n._dequeueRequest(),t):(n._pristine=et(r)?e.extend(!0,{},r):r.slice?r.slice(0):r,n._total=n.reader.total(r),n._aggregate&&i.serverAggregates&&(n._aggregateResult=n.reader.aggregates(r)),r=n._readData(r),n._pristineData=r.slice(0),n._data=n._observe(r),n._addRange(n._data),n._process(n._data),n._dequeueRequest(),t)},_addRange:function(e){var t=this,r=t._skip||0,n=r+t._flatData(e).length;t._ranges.push({start:r,end:n,data:e}),t._ranges.sort(function(e,t){return e.start-t.start})},error:function(e,t,r){this._dequeueRequest(),this.trigger(xt,{}),this.trigger(St,{xhr:e,status:t,errorThrown:r})},_params:function(e){var t=this,r=Y({take:t.take(),skip:t.skip(),page:t.page(),pageSize:t.pageSize(),sort:t._sort,filter:t._filter,group:t._group,aggregate:t._aggregate},e);return t.options.serverPaging||(delete r.take,delete r.skip,delete r.page,delete r.pageSize),t.options.serverGrouping?t.reader.model&&r.group&&(r.group=T(r.group,t.reader.model)):delete r.group,t.options.serverFiltering?t.reader.model&&r.filter&&(r.filter=F(r.filter,t.reader.model)):delete r.filter,t.options.serverSorting?t.reader.model&&r.sort&&(r.sort=T(r.sort,t.reader.model)):delete r.sort,t.options.serverAggregates?t.reader.model&&r.aggregate&&(r.aggregate=T(r.aggregate,t.reader.model)):delete r.aggregate,r},_queueRequest:function(e,r){var n=this;n._requestInProgress?n._pending={callback:Z(r,n),options:e}:(n._requestInProgress=!0,n._pending=t,r())},_dequeueRequest:function(){var e=this;e._requestInProgress=!1,e._pending&&e._queueRequest(e._pending.options,e._pending.callback)},_handleCustomErrors:function(e){if(this.reader.errors){var t=this.reader.errors(e);if(t)return this.trigger(St,{xhr:null,status:"customerror",errorThrown:"custom error",errors:t}),!0}return!1},_observe:function(e){var t=this,r=t.reader.model,n=!1;return r&&e.length&&(n=!(e[0]instanceof r)),e instanceof Gt?n&&(e.type=t.reader.model,e.wrapAll(e,e)):(e=new Gt(e,t.reader.model),e.parent=function(){return t.parent()}),t._isServerGrouped()&&w(e,r),t._changeHandler&&t._data&&t._data instanceof Gt?t._data.unbind(vt,t._changeHandler):t._changeHandler=Z(t._change,t),e.bind(vt,t._changeHandler)},_change:function(e){var t,r,n,i=this,a=e?e.action:"";if("remove"===a)for(t=0,r=e.items.length;r>t;t++)e.items[t].isNew&&e.items[t].isNew()||i._destroyed.push(e.items[t]);!i.options.autoSync||"add"!==a&&"remove"!==a&&"itemchange"!==a?(n=parseInt(i._total||i.reader.total(i._pristine),10),"add"===a?n+=e.items.length:"remove"===a?n-=e.items.length:"itemchange"===a||"sync"===a||i.options.serverPaging||(n=i.reader.total(i._pristine)),i._total=n,i._process(i._data,e)):i.sync()},_process:function(e,r){var n,i=this,s={};i.options.serverPaging!==!0&&(s.skip=i._skip,s.take=i._take||i._pageSize,s.skip===t&&i._page!==t&&i._pageSize!==t&&(s.skip=(i._page-1)*i._pageSize)),i.options.serverSorting!==!0&&(s.sort=i._sort),i.options.serverFiltering!==!0&&(s.filter=i._filter),i.options.serverGrouping!==!0&&(s.group=i._group),i.options.serverAggregates!==!0&&(s.aggregate=i._aggregate,i._aggregateResult=p(e,s)),n=a.process(e,s),i._view=n.data,n.total===t||i.options.serverFiltering||(i._total=n.total),r=r||{},r.items=r.items||i._view,i.trigger(vt,r)},_mergeState:function(e){var r=this;return e!==t&&(r._pageSize=e.pageSize,r._page=e.page,r._sort=e.sort,r._filter=e.filter,r._group=e.group,r._aggregate=e.aggregate,r._skip=e.skip,r._take=e.take,r._skip===t&&(r._skip=r.skip(),e.skip=r.skip()),r._take===t&&r._pageSize!==t&&(r._take=r._pageSize,e.take=r._take),e.sort&&(r._sort=e.sort=s(e.sort)),e.filter&&(r._filter=e.filter=u(e.filter)),e.group&&(r._group=e.group=d(e.group)),e.aggregate&&(r._aggregate=e.aggregate=l(e.aggregate))),e},query:function(e){var r,n=this,i=n.options.serverSorting||n.options.serverPaging||n.options.serverFiltering||n.options.serverGrouping||n.options.serverAggregates;i||(n._data===t||0===n._data.length)&&!n._destroyed.length?n.read(n._mergeState(e)):n.trigger(bt,{type:"read"})||(n.trigger(wt),r=a.process(n._data,n._mergeState(e)),n.options.serverFiltering||(n._total=r.total!==t?r.total:n._data.length),n._view=r.data,n._aggregateResult=p(n._data,e),n.trigger(xt,{}),n.trigger(vt,{items:r.data}))},fetch:function(t){var r=this;return e.Deferred(function(e){var n=function(n){r.unbind(St,i),e.resolve(),t&&t.call(r,n)},i=function(t){e.reject(t)};r.one(vt,n),r.one(St,i),r._query()}).promise()},_query:function(e){var t=this;t.query(Y({},{page:t.page(),pageSize:t.pageSize(),sort:t.sort(),filter:t.filter(),group:t.group(),aggregate:t.aggregate()},e))},next:function(e){var r=this,n=r.page(),i=r.total();return e=e||{},!n||i&&n+1>r.totalPages()?t:(r._skip=n*r.take(),n+=1,e.page=n,r._query(e),n)},prev:function(e){var r=this,n=r.page();return e=e||{},n&&1!==n?(r._skip=r._skip-r.take(),n-=1,e.page=n,r._query(e),n):t},page:function(e){var r,n=this;return e!==t?(e=Ot.max(Ot.min(Ot.max(e,1),n.totalPages()),1),n._query({page:e}),t):(r=n.skip(),r!==t?Ot.round((r||0)/(n.take()||1))+1:t)},pageSize:function(e){var r=this;return e!==t?(r._query({pageSize:e,page:1}),t):r.take()},sort:function(e){var r=this;return e!==t?(r._query({sort:e}),t):r._sort},filter:function(e){var r=this;return e===t?r._filter:(r._query({filter:e,page:1}),t)},group:function(e){var r=this;return e!==t?(r._query({group:e}),t):r._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(e){var r=this;return e!==t?(r._query({aggregate:e}),t):r._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var e=this,t=e.pageSize()||e.total();return Ot.ceil((e.total()||0)/t)},inRange:function(e,t){var r=this,n=Ot.min(e+t,r.total());return!r.options.serverPaging&&r.data.length>0?!0:r._findRange(e,n).length>0},lastRange:function(){var e=this._ranges;return e[e.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var e=this._ranges;return e.length&&e[0].data.length&&e[0].data[0].uid},range:function(e,r){var n,i,a,s,o,u,l;if(e=Ot.min(e||0,this.total()),n=this,i=Ot.max(Ot.floor(e/r),0)*r,a=Ot.min(i+r,n.total()),s=n._findRange(e,Ot.min(e+r,n.total())),s.length){n._skip=e>n.skip()?Ot.min(a,(n.totalPages()-1)*n.take()):i,n._take=r,o=n.options.serverPaging,u=n.options.serverSorting,l=n.options.serverFiltering;try{n.options.serverPaging=!0,n._isServerGrouped()||n.group()&&n.group().length||(n.options.serverSorting=!0),n.options.serverFiltering=!0,o&&(n._data=s=n._observe(s)),n._process(s)}finally{n.options.serverPaging=o,n.options.serverSorting=u,n.options.serverFiltering=l}}else r!==t&&(n._rangeExists(i,a)?e>i&&n.prefetch(a,r,function(){n.range(e,r)}):n.prefetch(i,r,function(){e>i&&a<n.total()&&!n._rangeExists(a,Ot.min(a+r,n.total()))?n.prefetch(a,r,function(){n.range(e,r)}):n.range(e,r)}))},_findRange:function(e,r){var n,i,o,u,l,f,c,h,g,p,_,v,m=this,y=m._ranges,S=[],b=m.options,w=b.serverSorting||b.serverPaging||b.serverFiltering||b.serverGrouping||b.serverAggregates;for(i=0,_=y.length;_>i;i++)if(n=y[i],e>=n.start&&e<=n.end){for(p=0,o=i;_>o;o++)if(n=y[o],g=m._flatData(n.data),g.length&&e+p>=n.start&&(f=n.data,c=n.end,w||(v=d(m.group()||[]).concat(s(m.sort()||[])),h=a.process(n.data,{sort:v,filter:m.filter()}),g=f=h.data,h.total!==t&&(c=h.total)),u=0,e+p>n.start&&(u=e+p-n.start),l=g.length,c>r&&(l-=c-r),p+=l-u,S=m._mergeGroups(S,f,u,l),r<=n.end&&p==r-e))return S;break}return[]},_mergeGroups:function(e,t,r,n){if(this._isServerGrouped()){var i,a=t.toJSON();return e.length&&(i=e[e.length-1]),S(i,a,r,n),e.concat(a)
}return e.concat(t.slice(r,n))},skip:function(){var e=this;return e._skip===t?e._page!==t?(e._page-1)*(e.take()||1):t:e._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(e,t,r){var n=this;return function(i){var a,s,o,u=!1,l={start:e,end:t,data:[]};if(n._dequeueRequest(),n.trigger(xt,{response:i,type:"read"}),i=n.reader.parse(i),o=n._readData(i),o.length){for(a=0,s=n._ranges.length;s>a;a++)if(n._ranges[a].start===e){u=!0,l=n._ranges[a];break}u||n._ranges.push(l)}l.data=n._observe(o),l.end=l.start+n._flatData(l.data).length,n._ranges.sort(function(e,t){return e.start-t.start}),n._total=n.reader.total(i),r&&o.length?r():n.trigger(vt,{})}},prefetch:function(e,t,r){var n=this,i=Ot.min(e+t,n.total()),a={take:t,skip:e,page:e/t+1,pageSize:t,sort:n._sort,filter:n._filter,group:n._group,aggregate:n._aggregate};n._rangeExists(e,i)?r&&r():(clearTimeout(n._timeout),n._timeout=setTimeout(function(){n._queueRequest(a,function(){n.trigger(bt,{type:"read"})?n._dequeueRequest():n.transport.read({data:n._params(a),success:n._prefetchSuccessHandler(e,i,r)})})},100))},_rangeExists:function(e,t){var r,n,i=this,a=i._ranges;for(r=0,n=a.length;n>r;r++)if(a[r].start<=e&&a[r].end>=t)return!0;return!1}}),W={},W.create=function(e,t){var r,n=e.transport;return n?(n.read=typeof n.read===ft?{url:n.read}:n.read,e.type&&(ot.data.transports[e.type]&&!et(ot.data.transports[e.type])?r=new ot.data.transports[e.type](Y(n,{data:t})):n=Y(!0,{},ot.data.transports[e.type],n),e.schema=Y(!0,{},ot.data.schemas[e.type],e.schema)),r||(r=ut(n.read)?n:new H(n))):r=new E({data:e.data}),r},V.create=function(e){e=e&&e.push?{data:e}:e;var t,r,n,i=e||{},a=i.data,s=i.fields,o=i.table,u=i.select,l={};if(a||!s||i.transport||(o?a=A(o,s):u&&(a=P(u,s))),ot.data.Model&&s&&(!i.schema||!i.schema.model)){for(t=0,r=s.length;r>t;t++)n=s[t],n.type&&(l[n.field]=n);tt(l)||(i.schema=Y(!0,i.schema,{model:{fields:l}}))}return i.data=a,i instanceof V?i:new V(i)},Q=Ut.define({init:function(e){var t=this,r=t.hasChildren||e&&e.hasChildren,n="items",i={};ot.data.Model.fn.init.call(t,e),typeof t.children===ft&&(n=t.children),i={schema:{data:n,model:{hasChildren:r,id:t.idField}}},typeof t.children!==ft&&Y(i,t.children),i.data=e,r||(r=i.schema.data),typeof r===ft&&(r=ot.getter(r)),ut(r)&&(t.hasChildren=!!r.call(t,t)),t._childrenOptions=i,t.hasChildren&&t._initChildren(),t._loaded=!(!e||!e[n]&&!e._loaded)},_initChildren:function(){var e,t,r,n=this;n.children instanceof $||(e=n.children=new $(n._childrenOptions),t=e.transport,r=t.parameterMap,t.parameterMap=function(e){return e[n.idField||"id"]=n.id,r&&(e=r(e)),e},e.parent=function(){return n},e.bind(vt,function(e){e.node=e.node||n,n.trigger(vt,e)}),e.bind(St,function(e){var t=n.parent();t&&(e.node=e.node||n,t.trigger(St,e))}),n._updateChildrenField())},append:function(e){this._initChildren(),this.loaded(!0),this.children.add(e)},hasChildren:!1,level:function(){for(var e=this.parentNode(),t=0;e&&e.parentNode;)t++,e=e.parentNode?e.parentNode():null;return t},_updateChildrenField:function(){var e=this._childrenOptions.schema.data;this[e||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var e,r={},n="_query";this.hasChildren?(this._initChildren(),e=this.children,r[this.idField||"id"]=this.id,this._loaded||(e._data=t,n="read"),e.one(vt,Z(this._childrenLoaded,this)),e[n](r)):this.loaded(!0)},parentNode:function(){var e=this.parent();return e.parent()},loaded:function(e){return e===t?this._loaded:(this._loaded=e,t)},shouldSerialize:function(e){return Ut.fn.shouldSerialize.call(this,e)&&"children"!==e&&"_loaded"!==e&&"hasChildren"!==e&&"_childrenOptions"!==e}}),$=V.extend({init:function(e){var t=Q.define({children:e});V.fn.init.call(this,Y(!0,{},{schema:{modelBase:t,model:t}},e)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var e=this;e._data.bind(St,function(t){e.trigger(St,t)})},remove:function(e){var t,r=e.parentNode(),n=this;return r&&r._initChildren&&(n=r.children),t=V.fn.remove.call(n,e),r&&!n.data().length&&(r.hasChildren=!1),t},success:M("success"),data:M("data"),insert:function(e,t){var r=this.parent();return r&&r._initChildren&&(r.hasChildren=!0,r._initChildren()),V.fn.insert.call(this,e,t)},_find:function(e,t){var r,n,i,a,s;if(i=V.fn[e].call(this,t))return i;if(a=this._flatData(this.data()))for(r=0,n=a.length;n>r;r++)if(s=a[r].children,s instanceof $&&(i=s[e](t)))return i},get:function(e){return this._find("get",e)},getByUid:function(e){return this._find("getByUid",e)}}),$.create=function(e){e=e&&e.push?{data:e}:e;var t=e||{},r=t.data,n=t.fields,i=t.list;return r&&r._dataSource?r._dataSource:(r||!n||t.transport||i&&(r=D(i,n)),t.data=r,t instanceof $?t:new $(t))},K=ot.Observable.extend({init:function(e,t,r){ot.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=e,this.prefetch=!r;var n=this;e.bind("change",function(){n._change()}),this._syncWithDataSource(),this.setViewSize(t)},setViewSize:function(e){this.viewSize=e,this._recalculate()},at:function(e){var r,n,i=this.pageSize;return e>=this.total()?(this.trigger("endreached",{index:e}),t):this.useRanges?(this.useRanges&&((e<this.dataOffset||e>this.skip+i)&&(n=Math.floor(e/i)*i,this.range(n)),e===this.prefetchThreshold&&this._prefetch(),e===this.midPageThreshold?this.range(this.nextMidRange):e===this.nextPageThreshold?this.range(this.nextFullRange):e===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),r=this.dataSource.at(e-this.dataOffset)),r===t&&this.trigger("endreached",{index:e}),r):this.dataSource.view()[e]},indexOf:function(e){return this.dataSource.data().indexOf(e)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var e=this,t=e.pageSize,r=e.skip-e.viewSize,n=Ot.max(Ot.floor(r/t),0)*t+t;this.offset=r,this.dataSource.prefetch(n,t,function(){e._goToRange(r,!0)})},range:function(e){if(this.offset!==e){var t=this,r=this.pageSize,n=Ot.max(Ot.floor(e/r),0)*r+r,i=this.dataSource;this.offset=e,this._recalculate(),i.inRange(e,r)?this._goToRange(e):this.prefetch&&i.prefetch(n,r,function(){t._goToRange(e,!0)})}},syncDataSource:function(){var e=this.offset;this.offset=null,this.range(e)},destroy:function(){this.unbind()},_prefetch:function(){var e=this,t=this.pageSize,r=this.skip+t,n=this.dataSource;n.inRange(r,t)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:r,take:t}),n.prefetch(r,t,function(){e._prefetching=!1,e.trigger("prefetched",{skip:r,take:t})}))},_goToRange:function(e,t){this.offset===e&&(this.dataOffset=e,this._expanding=t,this.dataSource.range(e,this.pageSize))},_change:function(){var e=this.dataSource,t=e.firstItemUid();this.length=this.useRanges?e.lastRange().end:e.view().length,this._firstItemUid===t&&this.useRanges||(this._syncWithDataSource(),this._recalculate(),this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var e=this.dataSource;this._firstItemUid=e.firstItemUid(),this.dataOffset=this.offset=e.skip()||0,this.pageSize=e.pageSize(),this.useRanges=e.options.serverPaging},_recalculate:function(){var e=this.pageSize,t=this.offset,r=this.viewSize,n=Math.ceil(t/e)*e;this.skip=n,this.midPageThreshold=n+e-1,this.nextPageThreshold=n+r-1,this.prefetchThreshold=n+Math.floor(e/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=n+e-r,this.nextFullRange=n,this.previousMidRange=t-r,this.previousFullRange=n-e}}),X=ot.Observable.extend({init:function(e,t){var r=this;ot.Observable.fn.init.call(r),this.dataSource=e,this.batchSize=t,this._total=0,this.buffer=new K(e,3*t),this.buffer.bind({endreached:function(e){r.trigger("endreached",{index:e.index})},prefetching:function(e){r.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){r.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){r._total=0,r.trigger("reset")},resize:function(){r._total=Math.ceil(this.length/r.batchSize),r.trigger("resize",{total:r.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(e){var r,n,i=this.buffer,a=e*this.batchSize,s=this.batchSize,o=[];for(i.offset>a&&i.at(i.offset-1),n=0;s>n&&(r=i.at(a+n),r!==t);n++)o.push(r);return o},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}}),Y(!0,ot.data,{readers:{json:U},Query:a,DataSource:V,HierarchicalDataSource:$,Node:Q,ObservableObject:Et,ObservableArray:Gt,LocalTransport:E,RemoteTransport:H,Cache:J,DataReader:U,Model:Ut,Buffer:K,BatchBuffer:X})}(window.kendo.jQuery);;!function(e){function o(o,t){return o===t||e.contains(o,t)}var t=window.kendo,n=t.ui,i=n.Widget,s=t.support,r=t.getOffset,a=t._activeElement,l="open",p="close",d="deactivate",c="activate",f="center",u="left",m="right",g="top",h="bottom",w="absolute",v="hidden",_="body",k="location",y="position",b="visible",z="effects",x="k-state-active",T="k-state-border",P=/k-state-border-(\w+)/,C=".k-picker-wrap, .k-dropdown-wrap, .k-link",S="down",E=e(window),I=e(document.documentElement),W="resize scroll",H=s.transitions.css,O=H+"transform",A=e.extend,L=".kendoPopup",N=["font-family","font-size","font-stretch","font-style","font-weight","line-height"],F=i.extend({init:function(o,n){var s,r=this;n=n||{},n.isRtl&&(n.origin=n.origin||h+" "+m,n.position=n.position||g+" "+m),i.fn.init.call(r,o,n),o=r.element,n=r.options,r.collisions=n.collision?n.collision.split(" "):[],1===r.collisions.length&&r.collisions.push(r.collisions[0]),s=e(r.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),n.appendTo=e(e(n.appendTo)[0]||s[0]||_),r.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!n.isRtl).css({position:w}).appendTo(n.appendTo).on("mouseenter"+L,function(){r._hovered=!0}).on("mouseleave"+L,function(){r._hovered=!1}),r.wrapper=e(),n.animation===!1&&(n.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),A(n.animation.open,{complete:function(){r.wrapper.css({overflow:b}),r.trigger(c)}}),A(n.animation.close,{complete:function(){r.wrapper.hide();var i,s,a=r.wrapper.data(k),l=e(n.anchor);a&&r.wrapper.css(a),n.anchor!=_&&(i=(l[0].className.match(P)||["","down"])[1],s=T+"-"+i,l.removeClass(s).children(C).removeClass(x).removeClass(s),o.removeClass(T+"-"+t.directions[i].reverse)),r._closing=!1,r.trigger(d)}}),r._mousedownProxy=function(e){r._mousedown(e)},r._resizeProxy=function(e){r._resize(e)},n.toggleTarget&&e(n.toggleTarget).on(n.toggleEvent+L,e.proxy(r.toggle,r))},events:[l,c,p,d],options:{name:"Popup",toggleEvent:"click",origin:h+" "+u,position:g+" "+u,anchor:_,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},destroy:function(){var o,n=this,s=n.options,r=n.element.off(L);i.fn.destroy.call(n),s.toggleTarget&&e(s.toggleTarget).off(L),s.modal||(I.unbind(S,n._mousedownProxy),E.unbind(W,n._resizeProxy)),t.destroy(n.element.children()),s.appendTo[0]===document.body&&(o=r.parent(".k-animation-container"),o[0]?o.remove():r.remove())},open:function(o,n){var i,r,a,p=this,d={isFixed:!isNaN(parseInt(n,10)),x:o,y:n},c=p.element,f=p.options,u="down",m=e(f.anchor);if(!p.visible()){if(f.copyAnchorStyles&&c.css(t.getComputedStyles(m[0],N)),c.data("animating")||p.trigger(l))return;f.modal||(I.unbind(S,p._mousedownProxy).bind(S,p._mousedownProxy),s.mobileOS.ios||s.mobileOS.android||E.unbind(W,p._resizeProxy).bind(W,p._resizeProxy)),p.wrapper=r=t.wrap(c,f.autosize).css({overflow:v,display:"block",position:w}),s.mobileOS.android&&r.add(m).css(O,"translatez(0)"),r.css(y),e(f.appendTo)[0]==document.body&&r.css(g,"-10000px"),i=A(!0,{},f.animation.open),p.flipped=p._position(d),i.effects=t.parseEffects(i.effects,p.flipped),u=i.effects.slideIn?i.effects.slideIn.direction:u,f.anchor!=_&&(a=T+"-"+u,c.addClass(T+"-"+t.directions[u].reverse),m.addClass(a).children(C).addClass(x).addClass(a)),c.data(z,i.effects).kendoStop(!0).kendoAnimate(i)}},toggle:function(){var e=this;e[e.visible()?p:l]()},visible:function(){return this.element.is(":"+b)},close:function(){var o,n,i,s,r=this,a=r.options;if(r.visible()){if(o=r.wrapper[0]?r.wrapper:t.wrap(r.element).hide(),r._closing||r.trigger(p))return;r.element.find(".k-popup").each(function(){var o=e(this),t=o.data("kendoPopup");t&&t.close()}),I.unbind(S,r._mousedownProxy),E.unbind(W,r._resizeProxy),n=A(!0,{},a.animation.close),i=r.element.data(z),s=n.effects,!s&&!t.size(s)&&i&&t.size(i)&&(n.effects=i,n.reverse=!0),r._closing=!0,r.element.kendoStop(!0),o.css({overflow:v}),r.element.kendoAnimate(n)}},_resize:function(e){var t=this;"resize"===e.type?(clearTimeout(t._resizeTimeout),t._resizeTimeout=setTimeout(function(){t._position(),t._resizeTimeout=null},50)):t._hovered||o(t.element[0],a())||t.close()},_mousedown:function(n){var i=this,s=i.element[0],r=i.options,a=e(r.anchor)[0],l=r.toggleTarget,p=t.eventTarget(n),d=e(p).closest(".k-popup"),c=d.parent().parent(".km-shim").length;d=d[0],(c||!d||d===i.element[0])&&"popover"!==e(n.target).closest("a").data("rel")&&(o(s,p)||o(a,p)||l&&o(e(l)[0],p)||i.close())},_fit:function(e,o,t){var n=0;return e+o>t&&(n=t-(e+o)),0>e&&(n=-e),n},_flip:function(e,o,t,n,i,s,r){var a=0;return r=r||o,s!==i&&s!==f&&i!==f&&(e+r>n&&(a+=-(t+o)),0>e+a&&(a+=t+o)),a},_position:function(o){var t,n,i,a,l,p,d,c,f,u=this,m=u.element.css(y,""),g=u.wrapper,h=u.options,v=e(h.viewport),_=e(v).offset(),b=e(h.anchor),z=h.origin.toLowerCase().split(" "),x=h.position.toLowerCase().split(" "),T=u.collisions,P=s.zoomLevel(),C=10002,S=0,E=b.parents().filter(g.siblings());if(E[0])if(n=+e(E).css("zIndex"))C=n+1;else for(t=b.parentsUntil(E),i=t.length;i>S;S++)n=+e(t[S]).css("zIndex"),n&&n>C&&(C=n+1);return g.css("zIndex",C),o&&o.isFixed?g.css({left:o.x,top:o.y}):g.css(u._align(z,x)),a=r(g,y,b[0]===g.offsetParent()[0]),l=r(g),p=b.offsetParent().parent(".k-animation-container,.k-popup,.k-group"),p.length&&(a=r(g,y,!0),l=r(g)),v[0]===window?(l.top-=window.pageYOffset||document.documentElement.scrollTop||0,l.left-=window.pageXOffset||document.documentElement.scrollLeft||0):(l.top-=_.top,l.left-=_.left),u.wrapper.data(k)||g.data(k,A({},a)),d=A({},l),c=A({},a),"fit"===T[0]&&(c.top+=u._fit(d.top,g.outerHeight(),v.height()/P)),"fit"===T[1]&&(c.left+=u._fit(d.left,g.outerWidth(),v.width()/P)),f=A({},c),"flip"===T[0]&&(c.top+=u._flip(d.top,m.outerHeight(),b.outerHeight(),v.height()/P,z[0],x[0],g.outerHeight())),"flip"===T[1]&&(c.left+=u._flip(d.left,m.outerWidth(),b.outerWidth(),v.width()/P,z[1],x[1],g.outerWidth())),m.css(y,w),g.css(c),c.left!=f.left||c.top!=f.top},_align:function(o,t){var n,i=this,s=i.wrapper,a=e(i.options.anchor),l=o[0],p=o[1],d=t[0],c=t[1],u=r(a),g=e(i.options.appendTo),w=s.outerWidth(),v=s.outerHeight(),_=a.outerWidth(),k=a.outerHeight(),y=u.top,b=u.left,z=Math.round;return g[0]!=document.body&&(n=r(g),y-=n.top,b-=n.left),l===h&&(y+=k),l===f&&(y+=z(k/2)),d===h&&(y-=v),d===f&&(y-=z(v/2)),p===m&&(b+=_),p===f&&(b+=z(_/2)),c===m&&(b-=w),c===f&&(b-=z(w/2)),{top:y,left:b}}});n.plugin(F)}(window.kendo.jQuery);;!function(e,t){function i(t,a){t.filters&&(t.filters=e.grep(t.filters,function(e){return i(e,a),e.filters?e.filters.length:e.field!=a}))}var a=window.kendo,n=a.ui,r=n.Widget,o=a.keys,l=a.support,s=a.htmlEncode,u=a._activeElement,d="id",c="li",f="change",_="character",h="k-state-focused",p="k-state-hover",v="k-loading",g="open",m="close",b="select",x="selected",S="progress",y="requestEnd",T="width",w=e.extend,C=e.proxy,F=l.browser,k=F.msie&&F.version<9,D=/"/g,H={ComboBox:"DropDownList",DropDownList:"ComboBox"},I=r.extend({init:function(t,i){var a,n=this,o=n.ns;r.fn.init.call(n,t,i),t=n.element,n._isSelect=t.is(b),n._template(),n.ul=e('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:l.kineticScrollNeeded?"":"auto"}).on("mouseenter"+o,c,function(){e(this).addClass(p)}).on("mouseleave"+o,c,function(){e(this).removeClass(p)}).on("click"+o,c,C(n._click,n)).attr({tabIndex:-1,role:"listbox","aria-hidden":!0}),n.list=e("<div class='k-list-container'/>").append(n.ul).on("mousedown"+o,function(e){e.preventDefault()}),a=t.attr(d),a&&(n.list.attr(d,a+"-list"),n.ul.attr(d,a+"_listbox"),n._optionID=a+"_option_selected"),n._header(),n._accessors(),n._initValue()},options:{valuePrimitive:!1,headerTemplate:""},setOptions:function(e){r.fn.setOptions.call(this,e),e&&e.enable!==t&&(e.enabled=e.enable)},focus:function(){this._focused.focus()},readonly:function(e){this._editable({readonly:e===t?!0:e,disable:!1})},enable:function(e){this._editable({readonly:!1,disable:!(e=e===t?!0:e)})},_filterSource:function(e){var t=this,a=t.options,n=t.dataSource,r=n.filter()||{};i(r,a.dataTextField),e&&(r=r.filters||[],r.push(e)),n.filter(r)},_header:function(){var t,i=this.options.headerTemplate;e.isFunction(i)&&(i=i({})),i&&(this.list.prepend(i),t=this.ul.prev(),this.header=t[0]?t:null)},_initValue:function(){var e=this,t=e.options.value;null!==t?e.element.val(t):(t=e._accessor(),e.options.value=t),e._old=t},_ignoreCase:function(){var e,t=this,i=t.dataSource.reader.model;i&&i.fields&&(e=i.fields[t.options.dataTextField],e&&e.type&&"string"!==e.type&&(t.options.ignoreCase=!1))},items:function(){return this.ul[0].children},current:function(e){var i=this,a=i._optionID;return e===t?i._current:(i._current&&(i._current.removeClass(h).removeAttr("aria-selected").removeAttr(d),i._focused.removeAttr("aria-activedescendant")),e&&(e.addClass(h),i._scroll(e),a&&(e.attr("id",a),i._focused.attr("aria-activedescendant",a))),i._current=e,t)},destroy:function(){var e=this,t=e.ns;r.fn.destroy.call(e),e._unbindDataSource(),e.ul.off(t),e.list.off(t),e._touchScroller&&e._touchScroller.destroy(),e.popup.destroy(),e._form&&e._form.off("reset",e._resetHandler)},dataItem:function(e){var i=this;return e===t&&(e=i.selectedIndex),i._data()[e]},_accessors:function(){var e=this,t=e.element,i=e.options,n=a.getter,r=t.attr(a.attr("text-field")),o=t.attr(a.attr("value-field"));r&&(i.dataTextField=r),o&&(i.dataValueField=o),e._text=n(i.dataTextField),e._value=n(i.dataValueField)},_aria:function(e){var i=this,a=i.options,n=i._focused;a.suggest!==t&&n.attr("aria-autocomplete",a.suggest?"both":"list"),e=e?e+" "+i.ul[0].id:i.ul[0].id,n.attr("aria-owns",e),i.ul.attr("aria-live",a.filter&&"none"!==a.filter?"polite":"off")},_blur:function(){var e=this;e._change(),e.close()},_change:function(){var e,i=this,a=i.selectedIndex,n=i.options.value,r=i.value();i._isSelect&&!i._bound&&n&&(r=n),r!==i._old?e=!0:a!==t&&a!==i._oldIndex&&(e=!0),e&&(i._old=r,i._oldIndex=a,i.trigger(f),i.element.trigger(f))},_click:function(t){t.isDefaultPrevented()||this._accept(e(t.currentTarget))},_data:function(){return this.dataSource.view()},_enable:function(){var e=this,i=e.options,a=e.element.is("[disabled]");i.enable!==t&&(i.enabled=i.enable),!i.enabled||a?e.enable(!1):e.readonly(e.element.is("[readonly]"))},_focus:function(e){var i=this,a=!0;return i.popup.visible()&&e&&i.trigger(b,{item:e})?(i.close(),t):(i._select(e),i._triggerCascade(a),i._blur(),t)},_index:function(e){var t,i,a=this,n=a._data();for(t=0,i=n.length;i>t;t++)if(a._dataValue(n[t])==e)return t;return-1},_dataValue:function(e){var i=this._value(e);return i===t&&(i=this._text(e)),i},_height:function(e){if(e){var t,i=this,a=i.list,n=i.popup.visible(),r=i.options.height,o=i.header;t=a.add(a.parent(".k-animation-container")).show(),r=i.ul[0].scrollHeight>r?r:"auto",t.height(r),o&&i.ul.height("auto"==r?r:a.height()-o.height()),n||t.hide()}},_adjustListWidth:function(){var e,t,i=this.list,a=i[0].style.width,n=this.wrapper;if(i.data(T)||!a)return e=window.getComputedStyle?window.getComputedStyle(n[0],null):0,t=e?parseFloat(e.width):n.outerWidth(),e&&(F.mozilla||F.msie)&&(t+=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight)+parseFloat(e.borderLeftWidth)+parseFloat(e.borderRightWidth)),a="border-box"!==i.css("box-sizing")?t-(i.outerWidth()-i.width()):t,i.css({fontFamily:n.css("font-family"),width:a}).data(T,a),!0},_popup:function(){var e=this,t=e.list,i=e._focused,r=e.options,o=e.wrapper;e.popup=new n.Popup(t,w({},r.popup,{anchor:o,open:function(t){e._adjustListWidth(),e.trigger(g)?t.preventDefault():(i.attr("aria-expanded",!0),e.ul.attr("aria-hidden",!1))},close:function(t){e.trigger(m)?t.preventDefault():(i.attr("aria-expanded",!1),e.ul.attr("aria-hidden",!0))},animation:r.animation,isRtl:l.isRtl(o)})),e.popup.one(g,function(){e._height(e._data().length)}),e._touchScroller=a.touchScroller(e.popup.element)},_makeUnselectable:function(){k&&this.list.find("*").attr("unselectable","on")},_toggleHover:function(t){e(t.currentTarget).toggleClass(p,"mouseenter"===t.type)},_toggle:function(e){var i=this,a=l.touch&&l.MSPointers&&l.pointers;e=e!==t?e:!i.popup.visible(),a||i._focused[0]===u()||i._focused.focus(),i[e?g:m]()},_scroll:function(e){if(e){e[0]&&(e=e[0]);var t,i,a=this.ul[0],n=e.offsetTop,r=e.offsetHeight,o=a.scrollTop,l=a.clientHeight,s=n+r,u=this._touchScroller;u?(t=u.dimensions.y,t.enabled&&n>t.size&&(n=n-t.size+r+4,u.scrollTo(0,-n))):(i=this.header?this.header.outerHeight():0,a.scrollTop=o>n?n-i:s>o+l?s-l-i:o)}},_template:function(){var e=this,t=e.options,i=t.template,n=t.dataSource;e._isSelect&&e.element[0].length&&(n||(t.dataTextField=t.dataTextField||"text",t.dataValueField=t.dataValueField||"value")),i?(i=a.template(i),e.template=function(e){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+i(e)+"</li>"}):e.template=a.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+a.expr(t.dataTextField,"data")+"}</li>",{useWithBlock:!1})},_triggerCascade:function(e){var t=this,i=t.value();(!t._bound&&i||t._old!==i)&&t.trigger("cascade",{userTriggered:e})},_unbindDataSource:function(){var e=this;e.dataSource.unbind(f,e._refreshHandler).unbind(S,e._progressHandler).unbind(y,e._requestEndHandler).unbind("error",e._errorHandler)}});w(I,{caret:function(e){var t,i=e.ownerDocument.selection;return t=i?Math.abs(i.createRange().moveStart(_,-e.value.length)):e.selectionStart},selectText:function(e,t,i){try{if(e.createTextRange){e.focus();var a=e.createTextRange();a.collapse(!0),a.moveStart(_,t),a.moveEnd(_,i-t),a.select()}else e.setSelectionRange(t,i)}catch(n){}},inArray:function(e,t){var i,a,n=t.children;if(!e||e.parentNode!==t)return-1;for(i=0,a=n.length;a>i;i++)if(e===n[i])return i;return-1}}),a.ui.List=I,n.Select=I.extend({init:function(e,t){I.fn.init.call(this,e,t),this._initial=this.element.val()},setDataSource:function(e){this.options.dataSource=e,this._dataSource(),this._bound=!1,this.options.autoBind&&this.dataSource.fetch()},close:function(){this.popup.close()},select:function(e){var i=this;return e===t?i.selectedIndex:(i._select(e),i._triggerCascade(),i._old=i._accessor(),i._oldIndex=i.selectedIndex,t)},_accessor:function(e,i){var a,n=this.element[0],r=this._isSelect,o=n.selectedIndex;return e===t?(r?o>-1&&(a=n.options[o],a&&(e=a.value)):e=n.value,e):(r?(o>-1&&n.options[o].removeAttribute(x),n.selectedIndex=i,a=n.options[i],a&&a.setAttribute(x,x)):n.value=e,t)},_hideBusy:function(){var e=this;clearTimeout(e._busy),e._arrow.removeClass(v),e._focused.attr("aria-busy",!1),e._busy=null},_showBusy:function(){var e=this;e._request=!0,e._busy||(e._busy=setTimeout(function(){e._focused.attr("aria-busy",!0),e._arrow.addClass(v)},100))},_requestEnd:function(){this._request=!1},_dataSource:function(){var t,i=this,n=i.element,r=i.options,o=r.dataSource||{};o=e.isArray(o)?{data:o}:o,i._isSelect&&(t=n[0].selectedIndex,t>-1&&(r.index=t),o.select=n,o.fields=[{field:r.dataTextField},{field:r.dataValueField}]),i.dataSource&&i._refreshHandler?i._unbindDataSource():(i._refreshHandler=C(i.refresh,i),i._progressHandler=C(i._showBusy,i),i._requestEndHandler=C(i._requestEnd,i),i._errorHandler=C(i._hideBusy,i)),i.dataSource=a.data.DataSource.create(o).bind(f,i._refreshHandler).bind(S,i._progressHandler).bind(y,i._requestEndHandler).bind("error",i._errorHandler)},_get:function(t){var i,a,n=this,r=n._data();if("function"==typeof t)for(i=0,a=r.length;a>i;i++)if(t(r[i])){t=i;break}if("number"==typeof t){if(0>t)return e();t=e(n.ul[0].children[t])}return t&&t.nodeType&&(t=e(t)),t},_move:function(e){var t,i,a=this,n=e.keyCode,r=a.ul[0],l=a.popup.visible()?"_select":"_accept",s=a._current,u=n===o.DOWN;if(n===o.UP||u){if(e.altKey)a.toggle(u);else{if(t=r.firstChild,!t&&!a._accessor()&&"filter"!==a._state)return a._fetch||(a.dataSource.one(f,function(){a._move(e),a._fetch=!1}),a._fetch=!0,a._filterSource()),e.preventDefault(),!0;u?(!s||-1===a.selectedIndex&&!a.value()&&s[0]===t?s=t:(s=s[0].nextSibling,s||t!==r.lastChild||(s=t)),a[l](s)):(s=s?s[0].previousSibling:r.lastChild,s||t!==r.lastChild||(s=t),a[l](s))}e.preventDefault(),i=!0}else n===o.ENTER||n===o.TAB?(a.popup.visible()&&e.preventDefault(),(a._typing||!a.popup.visible()&&-1===a.selectedIndex)&&(s=null),a._accept(s),i=!0):n===o.ESC&&(a.popup.visible()&&e.preventDefault(),a.close(),i=!0);return i},_selectItem:function(){var e,i,a=this,n=a.options;e=a._isSelect&&!a._initial&&!n.value&&n.index&&!a._bound,e||(i=a._selectedValue||n.value||a._accessor()),i?a.value(i):a._bound===t&&a.select(n.index)},_fetchItems:function(e){var i=this,a=i.ul[0].firstChild;return i._request?!0:i._fetch||a?t:i.options.cascadeFrom?!a:(i.dataSource.one(f,function(){i.value(e),i._fetch=!1}),i._fetch=!0,i.dataSource.fetch(),!0)},_options:function(e,i){var a,n,r,o,l=this,u=l.element,d=e.length,c="",f=0;for(i&&(f=1,c=i);d>f;f++)a="<option",n=e[f],r=l._text(n),o=l._value(n),o!==t&&(o+="",-1!==o.indexOf('"')&&(o=o.replace(D,"&quot;")),a+=' value="'+o+'"'),a+=">",r!==t&&(a+=s(r)),a+="</option>",c+=a;u.html(c)},_reset:function(){var t=this,i=t.element,a=i.attr("form"),n=a?e("#"+a):i.closest("form");n[0]&&(t._resetHandler=function(){setTimeout(function(){t.value(t._initial)})},t._form=n.on("reset",t._resetHandler))},_cascade:function(){var t,a,n,r,o,l=this,s=l.options,u=s.cascadeFrom;if(u){if(l._selectedValue=s.value||l._accessor(),a=e("#"+u),t=a.data("kendo"+s.name),t||(t=a.data("kendo"+H[s.name])),!t)return;s.autoBind=!1,r=s.cascadeFromField||t.options.dataValueField,o=function(){var e=l._selectedValue||l.value();l._userTriggered?l._clearSelection(t,!0):e?(l.value(e),l.dataSource.view()[0]&&-1!==l.selectedIndex||l._clearSelection(t,!0)):l.select(s.index),l.enable(),l._triggerCascade(l._userTriggered),l._userTriggered=!1},n=function(){var e,a,n=t.dataItem(),s=n?t._value(n):null;s||0===s?(e=l.dataSource.filter()||{},i(e,r),a=e.filters||[],a.push({field:r,operator:"eq",value:s}),l.dataSource.one(f,o).filter(a)):(l.enable(!1),l._clearSelection(t),l._triggerCascade(l._userTriggered),l._userTriggered=!1)},t.bind("cascade",function(e){l._userTriggered=e.userTriggered,n()}),t._bound?n():t.value()||l.enable(!1)}}})}(window.kendo.jQuery);;!function(e,t){function n(e,t,n){for(var a,s=0,o=t.length-1;o>s;++s)a=t[s],a in e||(e[a]={}),e=e[a];e[t[o]]=n}var a=window.kendo,s=a.ui,o=s.Select,i=a.support.mobileOS,r=".kendoDropDownList",l="disabled",c="readonly",p="change",d="k-state-focused",u="k-state-default",_="k-state-disabled",f="aria-disabled",h="aria-readonly",v="k-state-selected",m="mouseenter"+r+" mouseleave"+r,x="tabindex",g=e.proxy,b=o.extend({init:function(n,s){var i,l,c,p=this,d=s&&s.index;p.ns=r,s=e.isArray(s)?{dataSource:s}:s,o.fn.init.call(p,n,s),p._focusHandler=function(){p.wrapper.focus()},s=p.options,n=p.element.on("focus"+r,p._focusHandler),this._inputTemplate(),p._reset(),p._word="",p._wrapper(),p._tabindex(),p.wrapper.data(x,p.wrapper.attr(x)),p._aria(),p._span(),p._popup(),p._mobile(),p._dataSource(),p._ignoreCase(),p._enable(),p._oldIndex=p.selectedIndex=-1,p._cascade(),d!==t&&(s.index=d),s.autoBind?p.dataSource.fetch():-1===p.selectedIndex&&(c=s.text||"",c||(i=s.optionLabel,l=i&&0===s.index,p._isSelect?c=l?i:n.children(":selected").text():!n[0].value&&l&&(c=i)),p._textAccessor(c)),a.notify(p)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,template:"",valueTemplate:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{}},events:["open","close",p,"select","dataBinding","dataBound","cascade"],setOptions:function(e){o.fn.setOptions.call(this,e),this._template(),this._inputTemplate(),this._accessors(),this._aria()},destroy:function(){var e=this;e.wrapper.off(r),e.element.off(r),e._inputWrapper.off(r),o.fn.destroy.call(e)},open:function(){var e=this;e.ul[0].firstChild?(e.popup.open(),e._scroll(e._current)):(e._open=!0,e._request||e.dataSource.fetch())},toggle:function(e){this._toggle(e)},refresh:function(){var e,t=this,n=t._data(),s=n.length,o=t.options.optionLabel,i=t.element[0];t.trigger("dataBinding"),t._current&&t.current(null),t.ul[0].innerHTML=a.render(t.template,n),t._height(s),t.popup.visible()&&t.popup._position(),t._isSelect&&(e=i.selectedIndex,o&&s&&(o='<option value="">'+t._optionLabelText(o)+"</option>"),t._options(n,o),i.selectedIndex=-1===e?0:e),t._open&&(t._open=!1,t.toggle(!!s)),t._hideBusy(),t._makeUnselectable(),t._fetch||(s?t._selectItem():t._textAccessor()!==o&&(t.element.val(""),t._textAccessor(""))),t._bound=!!s,t.trigger("dataBound")},search:function(e){if(e){var n=this,a=n.options.ignoreCase;a&&(e=e.toLowerCase()),n._select(function(s){var o=n._text(s);return o!==t?(o+="",a&&(o=o.toLowerCase()),0===o.indexOf(e)):t})}},text:function(e){var n,a,s=this,o=s.options.ignoreCase;return e=null===e?"":e,e===t?s._textAccessor():("string"==typeof e&&(a=o?e.toLowerCase():e,n=s._select(function(e){return e=s._text(e),o&&(e=(e+"").toLowerCase()),e===a}),n&&(e=n)),s._textAccessor(e),t)},value:function(e){var n,a,s=this;return e===t?s._accessor():(null!==e&&(e=""+e),s._selectedValue=e,a=e||s.options.optionLabel&&!s.element[0].disabled&&""===e,a&&s._fetchItems(e)||(n=s._index(e),s.select(n>-1?n:0)),t)},_editable:function(e){var t=this,n=t.element,s=e.disable,o=e.readonly,i=t.wrapper.off(r),p=t._inputWrapper.off(m),v=function(){p.addClass(d),t._blured=!1},b=function(){if(!t._blured){t._triggerCascade();var e=window.self!==window.top;a.support.mobileOS.ios&&e?t._change():t._blur(),p.removeClass(d),t._blured=!0,n.blur()}};o||s?(s?(i.removeAttr(x),p.addClass(_).removeClass(u)):(p.addClass(u).removeClass(_),i.on("focusin"+r,v).on("focusout"+r,b)),n.attr(l,s).attr(c,o),i.attr(f,s).attr(h,o)):(n.removeAttr(l).removeAttr(c),p.addClass(u).removeClass(_).on(m,t._toggleHover),i.attr(x,i.data(x)).attr(f,!1).attr(h,!1).on("click"+r,function(e){t._blured=!1,e.preventDefault(),t.toggle()}).on("keydown"+r,g(t._keydown,t)).on("keypress"+r,g(t._keypress,t)).on("focusin"+r,v).on("focusout"+r,b))},_accept:function(e){this._focus(e)},_optionLabelText:function(){var e=this.options,t=e.dataTextField,n=e.optionLabel;return n&&t&&"object"==typeof n?this._text(n):n},_data:function(){var e=this,t=e.options,s=t.optionLabel,o=t.dataTextField,i=t.dataValueField,r=e.dataSource.view(),l=r.length,c=s,p=0;if(s&&l){for("object"==typeof s?c=s:o&&(c={},o=o.split("."),i=i.split("."),n(c,i,""),n(c,o,s)),c=new a.data.ObservableArray([c]);l>p;p++)c.push(r[p]);r=c}return r},_selectItem:function(){o.fn._selectItem.call(this),this.current()||this.select(0)},_keydown:function(e){var t=this,n=e.keyCode,s=a.keys,o=t.ul[0];n===s.LEFT?n=s.UP:n===s.RIGHT&&(n=s.DOWN),e.keyCode=n,t._move(e),n===s.HOME?(e.preventDefault(),t._select(o.firstChild)):n===s.END&&(e.preventDefault(),t._select(o.lastChild))},_selectNext:function(e,n){for(var a,s=this,o=n,i=s._data(),r=i.length,l=s.options.ignoreCase,c=function(n,a){return n+="",l&&(n=n.toLowerCase()),0===n.indexOf(e)?(s._select(a),s._triggerEvents(),!0):t};r>n;n++)if(a=s._text(i[n]),a&&c(a,n))return!0;if(o>0)for(n=0;o>=n;n++)if(a=s._text(i[n]),a&&c(a,n))return!0;return!1},_keypress:function(e){if(0!==e.charCode){var t=this,n=String.fromCharCode(e.charCode||e.keyCode),a=t.selectedIndex,s=t._word;t.options.ignoreCase&&(n=n.toLowerCase())," "===n&&e.preventDefault(),t._last===n&&s.length<=1&&a>-1&&(s||(s=n),t._selectNext(s,a+1))||(t._word=s+n,t._last=n,t._search())}},_popup:function(){o.fn._popup.call(this),this.popup.one("open",function(){this.wrapper=a.wrap(this.element).addClass("km-popup")})},_search:function(){var e=this,n=e.dataSource,a=e.selectedIndex,s=e._word;return clearTimeout(e._typing),e._typing=setTimeout(function(){e._word=""},e.options.delay),-1===a&&(a=0),e.ul[0].firstChild?(e._selectNext(s,a),e._triggerEvents(),t):(n.one(p,function(){n.data()[0]&&a>-1&&e._selectNext(s,a)}).fetch(),t)},_select:function(e){var n,a,o=this,i=o._current,r=null;return e=o._get(e),e&&e[0]&&!e.hasClass(v)&&(i&&i.removeClass(v),a=s.List.inArray(e[0],o.ul[0]),a>-1&&(r=o._data()[a],n=o._value(r),o.selectedIndex=a,o._textAccessor(r),o._accessor(n!==t?n:o._text(r),a),o._selectedValue=o._accessor(),o.current(e.addClass(v)),o._optionID&&o._current.attr("aria-selected",!0))),r},_triggerEvents:function(){this.popup.visible()||(this._triggerCascade(),this._change())},_mobile:function(){var e=this,t=e.popup,n=t.element.parents(".km-root").eq(0);n.length&&i&&(t.options.animation.open.effects=i.android||i.meego?"fadeIn":i.ios||i.wp?"slideIn:up":t.options.animation.open.effects)},_span:function(){var t,n=this,a=n.wrapper,s="span.k-input";t=a.find(s),t[0]||(a.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(n.element),t=a.find(s)),n.span=t,n._inputWrapper=e(a[0].firstChild),n._arrow=a.find(".k-icon").mousedown(function(e){e.preventDefault()})},_wrapper:function(){var e,t=this,n=t.element,a=n[0];e=n.parent(),e.is("span.k-widget")||(e=n.wrap("<span />").parent(),e[0].style.cssText=a.style.cssText),n.hide(),t._focused=t.wrapper=e.addClass("k-widget k-dropdown k-header").addClass(a.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1})},_clearSelection:function(){var e=this,n=e.options.optionLabel;return e.options.value="",e._selectedValue="",e.dataSource.view()[0]&&(n||e._userTriggered)?(e.select(0),t):(e.selectedIndex=-1,e.element.val(""),e._textAccessor(e.options.optionLabel),t)},_inputTemplate:function(){var t=this,n=t.options.valueTemplate;n=n?a.template(n):e.proxy(a.template("#:this._text(data)#"),t),t.valueTemplate=n},_textAccessor:function(s){var o=this.dataItem(),i=this.options,r=this.span;return s===t?r.text():(e.isPlainObject(s)||s instanceof a.data.ObservableObject?o=s:o&&this._text(o)===s||(i.dataTextField?(o={},n(o,i.dataTextField.split("."),s),n(o,i.dataValueField.split("."),this._accessor())):o=s),r.html(this.valueTemplate(o)),t)}});s.plugin(b)}(window.kendo.jQuery);;!function(e,t){function a(e,t,a,n){return e({idx:t,text:a,ns:p.ns,numeric:n})}function n(e,t,a){return b({className:e.substring(1),text:t,wrapClassName:a||""})}function s(e,t,a,n){e.find(t).parent().attr(p.attr("page"),a).attr("tabindex",-1).toggleClass("k-state-disabled",n)}function i(e,t){s(e,f,1,1>=t)}function r(e,t){s(e,c,Math.max(1,t-1),1>=t)}function l(e,t,a){s(e,h,Math.min(a,t+1),t>=a)}function o(e,t,a){s(e,u,a,t>=a)}var p=window.kendo,g=p.ui,d=g.Widget,m=e.proxy,f=".k-i-seek-w",u=".k-i-seek-e",c=".k-i-arrow-w",h=".k-i-arrow-e",k="change",S=".kendoPager",x="click",v="keydown",w="disabled",b=p.template('<a href="\\#" title="#=text#" class="k-link k-pager-nav #= wrapClassName #"><span class="k-icon #= className #">#=text#</span></a>'),y=d.extend({init:function(t,a){var s,g,w=this;d.fn.init.call(w,t,a),a=w.options,w.dataSource=p.data.DataSource.create(a.dataSource),w.linkTemplate=p.template(w.options.linkTemplate),w.selectTemplate=p.template(w.options.selectTemplate),s=w.page(),g=w.totalPages(),w._refreshHandler=m(w.refresh,w),w.dataSource.bind(k,w._refreshHandler),a.previousNext&&(w.element.find(f).length||(w.element.append(n(f,a.messages.first,"k-pager-first")),i(w.element,s,g)),w.element.find(c).length||(w.element.append(n(c,a.messages.previous)),r(w.element,s,g))),a.numeric&&(w.list=w.element.find(".k-pager-numbers"),w.list.length||(w.list=e('<ul class="k-pager-numbers k-reset" />').appendTo(w.element))),a.input&&(w.element.find(".k-pager-input").length||w.element.append('<span class="k-pager-input k-label">'+a.messages.page+'<input class="k-textbox">'+p.format(a.messages.of,g)+"</span>"),w.element.on(v+S,".k-pager-input input",m(w._keydown,w))),a.previousNext&&(w.element.find(h).length||(w.element.append(n(h,a.messages.next)),l(w.element,s,g)),w.element.find(u).length||(w.element.append(n(u,a.messages.last,"k-pager-last")),o(w.element,s,g))),a.pageSizes&&(w.element.find(".k-pager-sizes").length||e('<span class="k-pager-sizes k-label"><select/>'+a.messages.itemsPerPage+"</span>").appendTo(w.element).find("select").html(e.map(e.isArray(a.pageSizes)?a.pageSizes:[5,10,20],function(e){return"<option>"+e+"</option>"}).join("")).end().appendTo(w.element),w.element.find(".k-pager-sizes select").val(w.pageSize()),p.ui.DropDownList&&w.element.find(".k-pager-sizes select").show().kendoDropDownList(),w.element.on(k+S,".k-pager-sizes select",m(w._change,w))),a.refresh&&(w.element.find(".k-pager-refresh").length||w.element.append('<a href="#" class="k-pager-refresh k-link" title="'+a.messages.refresh+'"><span class="k-icon k-i-refresh">'+a.messages.refresh+"</span></a>"),w.element.on(x+S,".k-pager-refresh",m(w._refreshClick,w))),a.info&&(w.element.find(".k-pager-info").length||w.element.append('<span class="k-pager-info k-label" />')),w.element.on(x+S,"a",m(w._click,w)).addClass("k-pager-wrap k-widget"),a.autoBind&&w.refresh(),p.notify(w)},destroy:function(){var e=this;d.fn.destroy.call(e),e.element.off(S),e.dataSource.unbind(k,e._refreshHandler),p.destroy(e.element)},events:[k],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(e){var t=this;t.dataSource.unbind(k,t._refreshHandler),t.dataSource=t.options.dataSource=e,e.bind(k,t._refreshHandler),t.options.autoBind&&e.fetch()},refresh:function(e){var t,n,s,g=this,d=1,m="",f=g.page(),u=g.options,c=g.pageSize(),h=g.dataSource.total(),k=g.totalPages(),S=g.linkTemplate,x=u.buttonCount;if(!e||"itemchange"!=e.action){if(u.numeric){for(f>x&&(s=f%x,d=0===s?f-x+1:f-s+1),n=Math.min(d+x-1,k),d>1&&(m+=a(S,d-1,"...",!1)),t=d;n>=t;t++)m+=a(t==f?g.selectTemplate:S,t,t,!0);k>n&&(m+=a(S,t,"...",!1)),""===m&&(m=g.selectTemplate({text:0})),g.list.html(m)}u.info&&(m=h>0?p.format(u.messages.display,(f-1)*c+1,Math.min(f*c,h),h):u.messages.empty,g.element.find(".k-pager-info").html(m)),u.input&&g.element.find(".k-pager-input").html(g.options.messages.page+'<input class="k-textbox">'+p.format(u.messages.of,k)).find("input").val(f).attr(w,1>h).toggleClass("k-state-disabled",1>h),u.previousNext&&(i(g.element,f,k),r(g.element,f,k),l(g.element,f,k),o(g.element,f,k)),u.pageSizes&&g.element.find(".k-pager-sizes select").val(c).filter("["+p.attr("role")+"=dropdownlist]").kendoDropDownList("value",c).kendoDropDownList("text",c)}},_keydown:function(e){if(e.keyCode===p.keys.ENTER){var t=this.element.find(".k-pager-input").find("input"),a=parseInt(t.val(),10);(isNaN(a)||1>a||a>this.totalPages())&&(a=this.page()),t.val(a),this.page(a)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var t=parseInt(e.currentTarget.value,10);isNaN(t)||this.dataSource.pageSize(t)},_click:function(t){var a=e(t.currentTarget);t.preventDefault(),a.is(".k-state-disabled")||this.page(a.attr(p.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(e){return e===t?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(e),this.trigger(k,{index:e}),t)}});g.plugin(y)}(window.kendo.jQuery);;!function(e){function t(e,t){var n=e.x.location,i=e.y.location,o=t.x.location,r=t.y.location,a=n-o,s=i-r;return{center:{x:(n+o)/2,y:(i+r)/2},distance:Math.sqrt(a*a+s*s)}}function n(e){var t,n,i,o=[],r=e.originalEvent,s=e.currentTarget,c=0;if(e.api)o.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e});else if(e.type.match(/touch/))for(n=r?r.changedTouches:[],t=n.length;t>c;c++)i=n[c],o.push({location:i,event:e,target:i.target,currentTarget:s,id:i.identifier});else a.pointers||a.msPointers?o.push({location:r,event:e,target:e.target,currentTarget:s,id:r.pointerId}):o.push({id:1,event:e,target:e.target,currentTarget:s,location:e});return o}function i(t){var n,i,o;t.preventDefault(),n=e(t.data.root),i=n.closest(".k-widget").parent(),i[0]||(i=n.parent()),o=e.extend(!0,{},t,{target:n[0]}),i.trigger(e.Event(t.type,o))}function o(e){for(var t=r.eventMap.up.split(" "),n=0,i=t.length;i>n;n++)e(t[n])}var r=window.kendo,a=r.support,s=window.document,c=r.Class,u=r.Observable,l=e.now,h=e.extend,d=a.mobileOS,p=d&&d.android,f=800,v=a.browser.msie?5:0,g="press",_="hold",m="select",T="start",y="move",x="end",M="cancel",w="tap",D="release",E="gesturestart",b="gesturechange",I="gestureend",S="gesturetap",k=c.extend({init:function(e,t){var n=this;n.axis=e,n._updateLocationData(t),n.startLocation=n.location,n.velocity=n.delta=0,n.timeStamp=l()},move:function(e){var t=this,n=e["page"+t.axis],i=l(),o=i-t.timeStamp||1;(n||!p)&&(t.delta=n-t.location,t._updateLocationData(e),t.initialDelta=n-t.startLocation,t.velocity=t.delta/o,t.timeStamp=i)},_updateLocationData:function(e){var t=this,n=t.axis;t.location=e["page"+n],t.client=e["client"+n],t.screen=e["screen"+n]}}),C=c.extend({init:function(e,t,n){var i=this;h(i,{x:new k("X",n.location),y:new k("Y",n.location),userEvents:e,target:t,currentTarget:n.currentTarget,initialTouch:n.target,id:n.id,_moved:!1,_finished:!1}),i.press=function(){i._trigger(g,n),i._holdTimeout=setTimeout(function(){i._trigger(_,n)},e.minHold)}},move:function(e){var t=this;if(!t._finished){if(t.x.move(e.location),t.y.move(e.location),!t._moved){if(t._withinIgnoreThreshold())return;if(L.current&&L.current!==t.userEvents)return t.dispose();t._start(e)}t._finished||t._trigger(y,e)}},end:function(e){var t=this;t.endTime=l(),t._finished||(t._finished=!0,t._moved?t._trigger(x,e):t._trigger(w,e),clearTimeout(t._holdTimeout),t._trigger(D,e),t.dispose())},dispose:function(){var t=this,n=t.userEvents,i=n.touches;t._finished=!0,i.splice(e.inArray(t,i),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(e){clearTimeout(this._holdTimeout),this.startTime=l(),this._moved=!0,this._trigger(T,e)},_trigger:function(e,t){var n=this,i=t.event,o={touch:n,x:n.x,y:n.y,target:n.target,event:i};n.userEvents.notify(e,o)&&i.preventDefault()},_withinIgnoreThreshold:function(){var e=this.x.initialDelta,t=this.y.initialDelta;return Math.sqrt(e*e+t*t)<=this.userEvents.threshold}}),L=u.extend({init:function(t,n){var i,c,l,d=this,p=r.guid();n=n||{},i=d.filter=n.filter,d.threshold=n.threshold||v,d.minHold=n.minHold||f,d.touches=[],d._maxTouches=n.multiTouch?2:1,d.allowSelection=n.allowSelection,d.captureUpIfMoved=n.captureUpIfMoved,d.eventNS=p,t=e(t).handler(d),u.fn.init.call(d),h(d,{element:t,surface:n.global?e(s.documentElement):e(n.surface||t),stopPropagation:n.stopPropagation,pressed:!1}),d.surface.handler(d).on(r.applyEventMap("move",p),"_move").on(r.applyEventMap("up cancel",p),"_end"),t.on(r.applyEventMap("down",p),i,"_start"),(a.pointers||a.msPointers)&&t.css("-ms-touch-action","pinch-zoom double-tap-zoom"),n.preventDragEvent&&t.on(r.applyEventMap("dragstart",p),r.preventDefault),t.on(r.applyEventMap("mousedown selectstart",p),i,{root:t},"_select"),d.captureUpIfMoved&&a.eventCapture&&(c=d.surface[0],l=e.proxy(d.preventIfMoving,d),o(function(e){c.addEventListener(e,l,!0)})),d.bind([g,_,w,T,y,x,D,M,E,b,I,S,m],n)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var e,t=this;t._destroyed||(t._destroyed=!0,t.captureUpIfMoved&&a.eventCapture&&(e=t.surface[0],o(function(n){e.removeEventListener(n,t.preventIfMoving)})),t.element.kendoDestroy(t.eventNS),t.surface.kendoDestroy(t.eventNS),t.element.removeData("handler"),t.surface.removeData("handler"),t._disposeAll(),t.unbind(),delete t.surface,delete t.element)},capture:function(){L.current=this},cancel:function(){this._disposeAll(),this.trigger(M)},notify:function(e,n){var i=this,o=i.touches;if(this._isMultiTouch()){switch(e){case y:e=b;break;case x:e=I;break;case w:e=S}h(n,{touches:o},t(o[0],o[1]))}return this.trigger(e,n)},press:function(e,t,n){this._apiCall("_start",e,t,n)},move:function(e,t){this._apiCall("_move",e,t)},end:function(e,t){this._apiCall("_end",e,t)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var e=this.touches;e.length>0;)e.pop().dispose()},_isMoved:function(){return e.grep(this.touches,function(e){return e.isMoved()}).length},_select:function(e){(!this.allowSelection||this.trigger(m,{event:e}))&&i(e)},_start:function(t){var i,o,r=this,a=0,s=r.filter,c=n(t),u=c.length;if(!r._maxTouchesReached())for(L.current=null,r.currentTarget=t.currentTarget,r.stopPropagation&&t.stopPropagation();u>a&&!r._maxTouchesReached();a++)o=c[a],i=s?e(o.currentTarget):r.element,i.length&&(o=new C(r,i,o),r.touches.push(o),o.press(),r._isMultiTouch()&&r.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_eachTouch:function(e,t){var i,o,r,a,s=this,c={},u=n(t),l=s.touches;for(i=0;i<l.length;i++)o=l[i],c[o.id]=o;for(i=0;i<u.length;i++)r=u[i],a=c[r.id],a&&a[e](r)},_apiCall:function(t,n,i,o){this[t]({api:!0,pageX:n,pageY:i,clientX:n,clientY:i,target:o||this.element,stopPropagation:e.noop,preventDefault:e.noop})}});L.minHold=function(e){f=e},r.getTouches=n,r.touchDelta=t,r.UserEvents=L}(window.kendo.jQuery);;!function(e,t){function n(e,t){var n=l.getOffset(e),s=t.left+t.width,i=t.top+t.height;return n.right=n.left+e.outerWidth(),n.bottom=n.top+e.outerHeight(),!(n.left>s||n.right<t.left||n.top>i||n.bottom<t.top)}function s(e,t,s,i){var l,a,o;for(l=0,a=e.length;a>l;l++)o=e.eq(l),n(o,s)?o.hasClass(u)?i&&t!==o[0]&&o.removeClass(u).addClass(m):o.hasClass(f)||o.hasClass(m)||o.addClass(f):o.hasClass(f)?o.removeClass(f):i&&o.hasClass(m)&&o.removeClass(m).addClass(u)}var i,l=window.kendo,a=l.ui.Widget,o=e.proxy,r=Math.abs,c="aria-selected",u="k-state-selected",f="k-state-selecting",v="k-selectable",d="change",h=".kendoSelectable",m="k-state-unselecting",_=!1;!function(e){!function(){e('<div class="parent"><span /></div>').on("click",">*",function(){_=!0}).find("span").click().end().off()}()}(e),i=a.extend({init:function(t,n){var s,i=this;a.fn.init.call(i,t,n),i._marquee=e("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),i._lastActive=null,i.element.addClass(v),s=i.options.multiple,i.userEvents=new l.UserEvents(i.element,{global:!0,allowSelection:!0,filter:(_?"":"."+v+" ")+i.options.filter,tap:o(i._tap,i)}),s&&i.userEvents.bind("start",o(i._start,i)).bind("move",o(i._move,i)).bind("end",o(i._end,i)).bind("select",o(i._select,i))},events:[d],options:{name:"Selectable",filter:">*",multiple:!1},_tap:function(t){var n,s=e(t.target),i=this,l=t.event.ctrlKey||t.event.metaKey,a=i.options.multiple,o=a&&t.event.shiftKey,r=t.event.which,c=t.event.button;s.closest("."+v)[0]!==i.element[0]||r&&3==r||c&&2==c||(n=s.hasClass(u),a&&l||i.clear(),o?i.selectRange(i._firstSelectee(),s):(n&&l?(i._unselect(s),i._notify(d)):i.value(s),i._lastActive=i._downTarget=s))},_start:function(n){var s=this,i=e(n.target),l=i.hasClass(u),a=n.event.ctrlKey||n.event.metaKey;return s._downTarget=i,i.closest("."+v)[0]!==s.element[0]?(s.userEvents.cancel(),s._downTarget=null,t):(s._marquee.appendTo(document.body).css({left:n.x.client+1,top:n.y.client+1,width:0,height:0}),a||s.clear(),l&&(s._selectElement(i,!0),a&&i.addClass(m)),t)},_move:function(e){var t=this,n={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:r(e.x.initialDelta),height:r(e.y.initialDelta)},i=t.element.find(t.options.filter);t._marquee.css(n),s(i,t._downTarget[0],n,e.event.ctrlKey||e.event.metaKey),e.preventDefault()},_end:function(){var e=this;e._marquee.remove(),e._unselect(e.element.find(e.options.filter+"."+m)).removeClass(m),e.value(e.element.find(e.options.filter+"."+f)),e._lastActive=e._downTarget},value:function(e){var n=this,s=o(n._selectElement,n);return e?(e.each(function(){s(this)}),n._notify(d),t):n.element.find(n.options.filter+"."+u)},_firstSelectee:function(){var e,t=this;return null!==t._lastActive?t._lastActive:(e=t.value(),e.length>0?e[0]:t.element.find(t.options.filter))},_selectElement:function(t,n){var s=e(t),i=!n&&this._notify("select",{element:t});s.removeClass(f),i||(s.addClass(u),this.options.aria&&s.attr(c,!0))},_notify:function(e,t){return t=t||{},this.trigger(e,t)},_unselect:function(e){return e.removeClass(u),this.options.aria&&e.attr(c,!1),e},_select:function(t){var n="input,a,textarea,.k-multiselect-wrap,select",s=l.support.browser.msie;e(t.event.target).is(n)?(this.userEvents.cancel(),this._downTarget=null):(!s||s&&!e(l._activeElement()).is(n))&&t.preventDefault()},clear:function(){var e=this.element.find(this.options.filter+"."+u);this._unselect(e)},selectRange:function(t,n){var s,i,l,a,r=this,c=!1,f=r.element.find(r.options.filter),v=o(r._selectElement,r);for(t=e(t)[0],n=e(n)[0],s=0,i=f.length;i>s;s++)a=f[s],c?(v(a),c=a!==n):a===t?(c=t!==n,v(a)):a===n?(l=t,t=n,n=l,c=!0,v(a)):e(a).removeClass(u);r._notify(d)},destroy:function(){var e=this;a.fn.destroy.call(e),e.element.off(h),e.userEvents.destroy()}}),l.ui.plugin(i)}(window.kendo.jQuery);;!function(e,r){var t=window.kendo,n=e.proxy,a="dir",i="asc",o="single",l="field",d="desc",s=".kendoSortable",c=".k-link",f="aria-sort",p=t.ui.Widget,u=p.extend({init:function(e,r){var t,a=this;p.fn.init.call(a,e,r),a._refreshHandler=n(a.refresh,a),a.dataSource=a.options.dataSource.bind("change",a._refreshHandler),t=a.element.find(c),t[0]||(t=a.element.wrapInner('<a class="k-link" href="#"/>').find(c)),a.link=t,a.element.on("click"+s,n(a._click,a))},options:{name:"Sortable",mode:o,allowUnsort:!0,compare:null,filter:""},destroy:function(){var e=this;p.fn.destroy.call(e),e.element.off(s),e.dataSource.unbind("change",e._refreshHandler)},refresh:function(){var r,n,o,s,c=this,p=c.dataSource.sort()||[],u=c.element,k=u.attr(t.attr(l));for(u.removeAttr(t.attr(a)),u.removeAttr(f),r=0,n=p.length;n>r;r++)o=p[r],k==o.field&&u.attr(t.attr(a),o.dir);s=u.attr(t.attr(a)),u.find(".k-i-arrow-n,.k-i-arrow-s").remove(),s===i?(e('<span class="k-icon k-i-arrow-n" />').appendTo(c.link),u.attr(f,"ascending")):s===d&&(e('<span class="k-icon k-i-arrow-s" />').appendTo(c.link),u.attr(f,"descending"))},_click:function(e){var n,s,c=this,f=c.element,p=f.attr(t.attr(l)),u=f.attr(t.attr(a)),k=c.options,m=null==c.options.compare?r:c.options.compare,h=c.dataSource.sort()||[];if(e.preventDefault(),!k.filter||f.is(k.filter)){if(u=u===i?d:u===d&&k.allowUnsort?r:i,k.mode===o)h=[{field:p,dir:u,compare:m}];else if("multiple"===k.mode){for(n=0,s=h.length;s>n;n++)if(h[n].field===p){h.splice(n,1);break}h.push({field:p,dir:u,compare:m})}c.dataSource.sort(h)}}});t.ui.plugin(u)}(window.kendo.jQuery);;!function(e,t){function a(e){return Array(e+1).join('<td class="k-group-cell">&nbsp;</td>')}function r(e){var t,a=" ";if(e){if(typeof e===ht)return e;for(t in e)a+=t+'="'+e[t]+'"'}return a}function i(t){var a=0;return e("> .k-grouping-header, > .k-grid-toolbar",t).each(function(){a+=this.offsetHeight}),a}function l(t,a){e("th, th .k-grid-filter, th .k-link",t).add(document.body).css("cursor",a)}function n(e){var t,a,r={},i={};if(!M(e))for(A(e)||(e=[e]),t=0,a=e.length;a>t;t++)r[e[t].aggregate]=0,i[e[t].field]=r;return i}function o(e,t,a){var r=e.eq(t),i=e.eq(a);r[t>a?"insertBefore":"insertAfter"](i)}function s(e,t,a){var r,i,l,n;for(a=A(a)?a:[a],r=0,i=a.length;i>r;r++)l=a[r],H(l)&&l.click&&(n=l.name||l.text,t.on(dt+U,"a.k-grid-"+(n||"").replace(/\s/g,""),{commandName:n},W(l.click,e)))}function d(e){return z(e,function(e){return!e.hidden})}function c(e){e=e||{};var t=e.style;return t?(t=t.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),t===e.style&&(t=t.replace(/(.*)?/i,"display:none;$1"))):t="display:none",R({},e,{style:t})}function p(e){e=e||{};var t=e.style;return t&&(e.style=t.replace(/(display\s*:\s*none\s*;?)*/gi,"")),e}function u(t,a,r,i){var l,n=t.find(">colgroup"),o=D(a,function(e){return l=e.width,l&&0!==parseInt(l,10)?_.format('<col style="width:{0}"/>',typeof l===ht?l:l+"px"):"<col />"});(r||n.find(".k-hierarchy-col").length)&&o.splice(0,0,'<col class="k-hierarchy-col" />'),n.length&&n.remove(),n=e(Array(i+1).join('<col class="k-group-col">')+o.join("")),n.is("colgroup")||(n=e("<colgroup/>").append(n)),t.prepend(n),yt.msie&&8==yt.version&&(t.css("display","inline-table"),window.setTimeout(function(){t.css("display","")},1))}function h(e){var t,a,r,i={};for(a=0,r=e.length;r>a;a++)t=e[a],i[t.value]=t.text;return i}function f(e,t,a){var r=a&&a.length&&H(a[0])&&"value"in a[0],i=r?h(a)[e]:e;return i=null!=i?i:"",t?_.format(t,i):i}function g(e,t,a){for(var r,i=0,l=e[i];l;){if(r=a?!0:"none"!==l.style.display,r&&!vt.test(l.className)&&--t<0){l.style.display=a?"":"none";break}l=e[++i]}}function m(e,t){var a,r,i;if(typeof e===ht&&e===t)return e;if(H(e)&&e.name===t)return e;if(A(e))for(a=0,r=e.length;r>a;a++)if(i=e[a],typeof i===ht&&i===t||i.name===t)return i;return null}function b(t,a){var r,i,l,n=yt.msie;if(a===!0){if(t=e(t),r=n&&t.parent().is(".k-grid-content,.k-grid-header-wrap"),r&&(i=t.parent().scrollTop(),l=t.parent().scrollLeft()),n)try{t[0].setActive()}catch(o){t[0].focus()}else t[0].focus();r&&(t.parent().scrollTop(i),t.parent().scrollLeft(l))}else e(t).one("focusin",function(e){e.preventDefault()}).focus()}function k(t){var a=e(t.currentTarget),r=a.is("th"),i=a.closest("table")[0];_.support.touch||(i===this.table[0]||i===this.thead.parent()[0])&&(this.current(a),(r||!e(t.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"))&&setTimeout(function(){xt&&e(_._activeElement()).hasClass("k-widget")||b(i,!0)}),r&&t.preventDefault())}var _=window.kendo,v=_.ui,w=_.data.DataSource,C=v.Groupable,y=_.support.tbodyInnerHtml,T=_._activeElement,x=v.Widget,S=_.keys,H=e.isPlainObject,R=e.extend,D=e.map,z=e.grep,A=e.isArray,E=e.inArray,W=e.proxy,I=_.isFunction,M=e.isEmptyObject,N=Math,F="progress",L="error",B=":not(.k-group-cell):not(.k-hierarchy-cell):visible",P="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",q="tr:not(.k-footer-template):visible",O=":not(.k-group-cell):not(.k-hierarchy-cell):visible",G=q+":first>"+O+":first",j="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",U=".kendoGrid",V="edit",$="save",K="remove",J="detailInit",X="filterMenuInit",Q="columnMenuInit",Y="change",Z="columnHide",et="columnShow",tt="saveChanges",at="dataBound",rt="detailExpand",it="detailCollapse",lt="k-state-focused",nt="k-state-selected",ot="columnResize",st="columnReorder",dt="click",ct="height",pt="tabIndex",ut="function",ht="string",ft="Are you sure you want to delete this record?",gt="Delete",mt="Cancel",bt=/(\}|\#)/gi,kt=/#/gi,_t="[\\x20\\t\\r\\n\\f]",vt=RegExp("(^|"+_t+")(k-group-cell|k-hierarchy-cell)("+_t+"|$)"),wt='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',Ct=!1,yt=_.support.browser,Tt=yt.msie&&7==yt.version,xt=yt.msie&&8==yt.version,St=x.extend({init:function(e,t){var a=this;x.fn.init.call(a,e,t),a._refreshHandler=W(a.refresh,a),a.setDataSource(t.dataSource),a.wrap()},setDataSource:function(e){var t=this;t.dataSource&&t.dataSource.unbind(Y,t._refreshHandler),t.dataSource=e,t.dataSource.bind(Y,t._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:e.noop},destroy:function(){var e=this;x.fn.destroy.call(e),e.dataSource.unbind(Y,e._refreshHandler),e.wrapper.add(e.verticalScrollbar).off(U),e.drag&&e.drag.destroy()},wrap:function(){var t,a=this,r=_.support.scrollbar()+1,i=a.element;i.css({width:"auto",overflow:"hidden"}).css(Ct?"padding-left":"padding-right",r),a.content=i.children().first(),t=a.wrapper=a.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+U+" mousewheel"+U,W(a._wheelScroll,a)),_.support.kineticScrollNeeded&&(a.drag=new _.UserEvents(a.wrapper,{global:!0,move:function(e){a.verticalScrollbar.scrollTop(a.verticalScrollbar.scrollTop()-e.y.delta),t.scrollLeft(t.scrollLeft()-e.x.delta),e.preventDefault()}})),a.verticalScrollbar=e('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:r}).appendTo(i).bind("scroll"+U,W(a._scroll,a))},_wheelScroll:function(e){var a,r=this,i=r.verticalScrollbar.scrollTop(),l=e.originalEvent,n=l.wheelDeltaY;l.wheelDelta?(n===t||n)&&(a=l.wheelDelta):l.detail&&l.axis===l.VERTICAL_AXIS&&(a=10*-l.detail),a&&(e.preventDefault(),r.verticalScrollbar.scrollTop(i+-a))},_scroll:function(e){var t=this,a=e.currentTarget.scrollTop,r=t.dataSource,i=t.itemHeight,l=r.skip()||0,n=t._rangeStart||l,o=t.element.innerHeight(),s=!!(t._scrollbarTop&&t._scrollbarTop>a),d=N.max(N.floor(a/i),0),c=N.max(d+N.floor(o/i),0);t._scrollTop=a-n*i,t._scrollbarTop=a,t._fetch(d,c,s)||(t.wrapper[0].scrollTop=t._scrollTop)},_fetch:function(e,t,a){var r=this,i=r.dataSource,l=r.itemHeight,n=i.take(),o=r._rangeStart||i.skip()||0,s=N.floor(e/n)*n,d=!1,c=.33;return o>e?(d=!0,o=N.max(0,t-n),r._scrollTop=(e-o)*l,r._page(o,n)):t>=o+n&&!a?(d=!0,o=e,r._scrollTop=l,r._page(o,n)):r._fetching||(s+n-n*c>e&&e>n&&i.prefetch(s-n,n),t>s+n*c&&i.prefetch(s+n,n)),d},_page:function(e,t){var a=this,r=a.dataSource;clearTimeout(a._timeout),a._fetching=!0,a._rangeStart=e,r.inRange(e,t)?r.range(e,t):(_.ui.progress(a.wrapper.parent(),!0),a._timeout=setTimeout(function(){r.range(e,t)},100))},refresh:function(){var e,t,a,r,i=this,l="",n=25e4,o=i.dataSource,s=i._rangeStart,d=_.support.kineticScrollNeeded?0:_.support.scrollbar(),c=i.wrapper[0];for(_.ui.progress(i.wrapper.parent(),!1),clearTimeout(i._timeout),a=i.itemHeight=i.options.itemHeight()||0,r=c.scrollWidth>c.offsetWidth?d:0,e=o.total()*a+r,t=0;t<N.floor(e/n);t++)l+='<div style="width:1px;height:'+n+'px"></div>';e%n&&(l+='<div style="width:1px;height:'+e%n+'px"></div>'),i.verticalScrollbar.html(l),c.scrollTop=i._scrollTop,i.drag&&i.drag.cancel(),s&&!i._fetching&&(i._rangeStart=o.skip()),i._fetching=!1}}),Ht={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},Rt=x.extend({init:function(e,t){var a=this;t=A(t)?{dataSource:t}:t,x.fn.init.call(a,e,t),Ct=_.support.isRtl(e),a._element(),a._aria(),a._columns(a.options.columns),a._dataSource(),a._tbody(),a._pageable(),a._thead(),a._groupable(),a._toolbar(),a._setContentHeight(),a._templates(),a._navigatable(),a._selectable(),a._details(),a._editable(),a._attachCustomCommandsEvent(),a.options.autoBind?a.dataSource.fetch():a._footer(),_.notify(a)},events:[Y,"dataBinding","cancel",at,rt,it,J,X,Q,V,$,K,tt,ot,st,et,Z],setDataSource:function(e){var t=this;t.options.dataSource=e,t._dataSource(),t._pageable(),t.options.groupable&&t._groupable(),t._thead(),t.virtualScrollable&&t.virtualScrollable.setDataSource(t.options.dataSource),t.options.autoBind&&e.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3,mobile:""},destroy:function(){var t,a=this;x.fn.destroy.call(a),a.pager&&a.pager.destroy(),a.groupable&&a.groupable.destroy(),a.options.reorderable&&a.wrapper.data("kendoReorderable").destroy(),a.selectable&&a.selectable.destroy(),a.resizable&&(a.resizable.destroy(),a._resizeUserEvents&&(a._resizeHandleDocumentClickHandler&&e(document).off("click",a._resizeHandleDocumentClickHandler),a._resizeUserEvents.destroy())),a.virtualScrollable&&a.virtualScrollable.destroy(),a._destroyColumnAttachments(),a._destroyEditable(),a.dataSource.unbind(Y,a._refreshHandler).unbind(F,a._progressHandler).unbind(L,a._errorHandler),t=a.element.add(a.wrapper).add(a.table).add(a.thead).add(a.wrapper.find(">.k-grid-toolbar")),a.content&&(t=t.add(a.content).add(a.content.find(">.k-virtual-scrollable-wrap"))),a.pane&&a.pane.destroy(),t.off(U),_.destroy(a.wrapper)},setOptions:function(e){var t=this;x.fn.setOptions.call(this,e),t._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var t=this;t.resizeHandle=null,t.thead.find("th").each(function(){var t=e(this),a=t.data("kendoFilterMenu"),r=t.data("kendoSortable"),i=t.data("kendoColumnMenu");a&&a.destroy(),r&&r.destroy(),i&&i.destroy()})},_attachCustomCommandsEvent:function(){var e,t,a,r=this,i=r.columns||[];for(t=0,a=i.length;a>t;t++)e=i[t].command,e&&s(r,r.wrapper,e)},_aria:function(){var e=this.element.attr("id")||"aria";e&&(this._cellId=e+"_active_cell")},_element:function(){var t=this,a=t.element;a.is("table")||(a=t.options.scrollable?t.element.find("> .k-grid-content > table"):t.element.children("table"),a.length||(a=e("<table />").appendTo(t.element))),Tt&&a.attr("cellspacing",0),t.table=a.attr("role",t._hasDetails()?"treegrid":"grid"),t._wrapper()},_createResizeHandle:function(t,a){var r,l,n,o,s,d=this,c=d.options.columnResizeHandleWidth,p=d.options.scrollable,u=d.resizeHandle;u||(u=d.resizeHandle=e('<div class="k-resize-handle"><div class="k-resize-handle-inner"></div></div>'),t.append(u)),Ct?(l=a.closest(".k-grid-header-wrap"),n=yt.msie?l.scrollLeft():0,o=yt.webkit?l[0].scrollWidth-l[0].offsetWidth-l.scrollLeft():0,s=yt.mozilla?l[0].scrollWidth-l[0].offsetWidth-(l[0].scrollWidth-l[0].offsetWidth-l.scrollLeft()):0,r=a.position().left-o+s-n):(r=a[0].offsetWidth,a.prevAll(":visible").each(function(){r+=this.offsetWidth})),u.css({top:p?0:i(d.wrapper),left:r-c,height:a.outerHeight(),width:3*c}).data("th",a).show()},_positionColumnResizeHandle:function(t){var a=this,r=a.resizeHandle,i=a.options.columnResizeHandleWidth;a.thead.on("mousemove"+U,"th:not(.k-group-cell,.k-hierarchy-cell)",function(n){var o=e(this),s=n.clientX,d=e(window).scrollLeft(),c=o.offset().left+(Ct?0:this.offsetWidth);s+d>c-i&&c+i>s+d?a._createResizeHandle(t,o):r?r.hide():l(a.wrapper,"")})},_resizeHandleDocumentClick:function(t){e(t.target).closest(".k-column-active").length||(e(document).off(t),this._hideResizeHandle())},_hideResizeHandle:function(){this.resizeHandle&&(this.resizeHandle.data("th").removeClass("k-column-active"),this.resizeHandle.hide())},_positionColumnResizeHandleTouch:function(t){var a=this;a._resizeUserEvents=new _.UserEvents(a.thead,{filter:"th:not(.k-group-cell,.k-hierarchy-cell)",threshold:10,hold:function(r){var i=e(r.target);r.preventDefault(),i.addClass("k-column-active"),a._createResizeHandle(t,i),a._resizeHandleDocumentClickHandler||(a._resizeHandleDocumentClickHandler=W(a._resizeHandleDocumentClick,a)),e(document).on("click",a._resizeHandleDocumentClickHandler)}})},_resizable:function(){var t,a,r,i,n,o,s=this,d=s.options,c=this._isMobile;d.resizable&&(t=d.scrollable?s.wrapper.find(".k-grid-header-wrap:first"):s.wrapper,c?s._positionColumnResizeHandleTouch(t):s._positionColumnResizeHandle(t),s.resizable=new v.Resizable(t,{handle:".k-resize-handle",hint:function(t){return e('<div class="k-grid-resize-indicator" />').css({height:t.data("th").outerHeight()+s.tbody.attr("clientHeight")})},start:function(t){o=e(t.currentTarget).data("th"),c&&s._hideResizeHandle();var p=e.inArray(o[0],o.parent().children(":visible")),u=s.tbody.parent(),h=s.footer||e();l(s.wrapper,"col-resize"),n=d.scrollable?s.thead.parent().find("col:eq("+p+")").add(u.children("colgroup").find("col:eq("+p+")")).add(h.find("colgroup").find("col:eq("+p+")")):u.children("colgroup").find("col:eq("+p+")"),a=t.x.location,r=o.outerWidth(),i=s.tbody.outerWidth()},resize:function(t){var l=Ct?-1:1,o=r+t.x.location*l-a*l,c=s.footer||e();o>10&&(n.css("width",o),d.scrollable&&i&&(s._footerWidth=i+t.x.location*l-a*l,s.tbody.parent().add(s.thead.parent()).add(c.find("table")).css("width",s._footerWidth)))},resizeend:function(){var e,t=o.outerWidth();l(s.wrapper,""),r!=t&&(e=s.columns[o.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(o)],e.width=t,s.trigger(ot,{column:e,oldWidth:r,newWidth:t})),s._hideResizeHandle(),o=null}}))},_draggable:function(){var t=this;t.options.reorderable&&(t._draggableInstance&&t._draggableInstance.destroy(),t._draggableInstance=t.wrapper.kendoDraggable({group:_.guid(),filter:t.content?".k-grid-header:first "+j:"table:first>.k-grid-header "+j,drag:function(){t._hideResizeHandle()},hint:function(t){return e('<div class="k-header k-drag-clue" />').css({width:t.width(),paddingLeft:t.css("paddingLeft"),paddingRight:t.css("paddingRight"),lineHeight:t.height()+"px",paddingTop:t.css("paddingTop"),paddingBottom:t.css("paddingBottom")}).html(t.attr(_.attr("title"))||t.attr(_.attr("field"))||t.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var e=this;e.options.reorderable&&e.wrapper.kendoReorderable({draggable:e._draggableInstance,change:function(t){var a=E(e.columns[t.newIndex],e.columns),r=e.columns[t.oldIndex];e.trigger(st,{newIndex:a,oldIndex:E(r,e.columns),column:r}),e.reorderColumn(a,r)}})},reorderColumn:function(e,t){var a,r,i,l=this,n=E(t,l.columns),s=E(t,d(l.columns)),c=E(l.columns[e],d(l.columns)),p=l.footer||l.wrapper.find(".k-grid-footer");if(n!==e)for(l._hideResizeHandle(),l.columns.splice(n,1),l.columns.splice(e,0,t),l._templates(),o(l.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),s,c),l.options.scrollable&&o(l.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),s,c),o(l.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),n,e),p&&p.length&&(o(p.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),s,c),o(p.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),n,e)),a=l.tbody.children(":not(.k-grouping-row,.k-detail-row)"),r=0,i=a.length;i>r;r+=1)o(a.eq(r).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),n,e)},cellIndex:function(t){return e(t).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(t)},_modelForContainer:function(t){t=e(t),t.is("tr")||"popup"===this._editMode()||(t=t.closest("tr"));var a=t.attr(_.attr("uid"));return this.dataSource.getByUid(a)},_editable:function(){var t,a=this,r=a.selectable&&a.selectable.options.multiple,i=a.options.editable,l=function(){var t=T(),r=a._editContainer;!r||e.contains(r[0],t)||r[0]===t||e(t).closest(".k-animation-container").length||a.editable.end()&&a.closeCell()};i&&(t=a._editMode(),"incell"===t?i.update!==!1&&a.wrapper.on(dt+U,"tr:not(.k-grouping-row) > td",function(t){var i=e(this);i.hasClass("k-hierarchy-cell")||i.hasClass("k-detail-cell")||i.hasClass("k-group-cell")||i.hasClass("k-edit-cell")||i.has("a.k-grid-delete").length||i.has("button.k-grid-delete").length||i.closest("tbody")[0]!==a.tbody[0]||e(t.target).is(":input")||(a.editable?a.editable.end()&&(r&&e(T()).blur(),a.closeCell(),a.editCell(i)):a.editCell(i))}).on("focusin"+U,function(){clearTimeout(a.timer),a.timer=null}).on("focusout"+U,function(){a.timer=setTimeout(l,1)}):i.update!==!1&&a.wrapper.on(dt+U,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(t){t.preventDefault(),a.editRow(e(this).closest("tr"))}),i.destroy!==!1?a.wrapper.on(dt+U,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(t){t.preventDefault(),t.stopPropagation(),a.removeRow(e(this).closest("tr"))}):a.wrapper.on(dt+U,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){e.stopPropagation(),a._confirmation()||e.preventDefault()}))},editCell:function(t){t=e(t);var a=this,r=a.columns[a.cellIndex(t)],i=a._modelForContainer(t);!i||i.editable&&!i.editable(r.field)||r.command||!r.field||(a._attachModelChange(i),a._editContainer=t,a.editable=t.addClass("k-edit-cell").kendoEditable({fields:{field:r.field,format:r.format,editor:r.editor,values:r.values},model:i,change:function(e){a.trigger($,{values:e.values,container:t,model:i})&&e.preventDefault()}}).data("kendoEditable"),t.parent().addClass("k-grid-edit-row"),a.trigger(V,{container:t,model:i}))},_destroyEditable:function(){var e=this,t=function(){e.editable&&(e._detachModelChange(),e.editable.destroy(),e.editable=null,e._editContainer=null,e._destroyEditView())};e.editable&&("popup"!==e._editMode()||e._isMobile?t():e._editContainer.data("kendoWindow").bind("deactivate",t).close()),e._actionSheet&&(e._actionSheet.destroy(),e._actionSheet=null)},_destroyEditView:function(){this.editView&&(this.editView.purge(),this.editView=null,this.pane.navigate(""))},_attachModelChange:function(e){var t=this;t._modelChangeHandler=function(e){t._modelChange({field:e.field,model:this})},e.bind("change",t._modelChangeHandler)},_detachModelChange:function(){var e=this,t=e._editContainer,a=e._modelForContainer(t);a&&a.unbind(Y,e._modelChangeHandler)},closeCell:function(t){var a,r,i,l=this,n=l._editContainer;n&&(a=n.closest("tr").attr(_.attr("uid")),i=l.dataSource.getByUid(a),t&&l.trigger("cancel",{container:n,model:i})||(n.removeClass("k-edit-cell"),r=l.columns[l.cellIndex(n)],n.parent().removeClass("k-grid-edit-row"),l._destroyEditable(),l._displayCell(n,r,i),n.hasClass("k-dirty-cell")&&e('<span class="k-dirty"/>').prependTo(n)))},_displayCell:function(e,t,a){var r=this,i={storage:{},count:0},l=R({},_.Template,r.options.templateSettings),n=_.template(r._cellTmpl(t,i),l);i.count>0&&(n=W(n,i.storage)),e.empty().html(n(a))},removeRow:function(e){this._confirmation(e)&&this._removeRow(e)},_removeRow:function(t){var a,r,i=this;t=e(t).hide(),a=i._modelForContainer(t),a&&!i.trigger(K,{row:t,model:a})&&(r=i._editMode(),"incell"!==r&&i.cancelRow(),i.dataSource.remove(a),("inline"===r||"popup"===r)&&i.dataSource.sync())},_editMode:function(){var e="incell",t=this.options.editable;return t!==!0&&(e="string"==typeof t?t:t.mode||e),e},editRow:function(a){var r,i,l,n,o=this;a instanceof _.data.ObservableObject?r=a:(a=e(a),r=o._modelForContainer(a)),i=o._editMode(),l=o.options.navigatable,o.cancelRow(),r&&(o._attachModelChange(r),"popup"===i?o._createPopupEditor(r):"inline"===i?o._createInlineEditor(a,r):"incell"===i&&e(a).children(B).each(function(){var a=e(this),i=o.columns[a.index()];return r=o._modelForContainer(a),r&&(!r.editable||r.editable(i.field))&&i.field?(o.editCell(a),!1):t}),n=o.editView?o.editView.element:o._editContainer,n.on(dt+U,"a.k-grid-cancel",function(t){if(t.preventDefault(),t.stopPropagation(),!o.trigger("cancel",{container:n,model:r})){var a=o.items().index(e(o.current()).parent());o.cancelRow(),l&&(o.current(o.items().eq(a).children().filter(O).first()),b(o.table,!0))}}),n.on(dt+U,"a.k-grid-update",function(e){e.preventDefault(),e.stopPropagation(),o.saveRow()}))},_createPopupEditor:function(a){var r,i,l,n,o,s,d,c,p,u,h,f=this,g="<div "+_.attr("uid")+'="'+a.uid+'" class="k-popup-edit-form'+(f._isMobile?" k-mobile-list":"")+'"><div class="k-edit-form-container">',k=[],v=f.options.editable,w=v.template,C=H(v)?v.window:{},y=R({},_.Template,f.options.templateSettings);if(C=C||{},w)for(typeof w===ht&&(w=window.unescape(w)),g+=_.template(w,y)(a),l=0,n=f.columns.length;n>l;l++)r=f.columns[l],r.command&&(c=m(r.command,"edit"),c&&(i=c));else for(l=0,n=f.columns.length;n>l;l++)r=f.columns[l],r.command?r.command&&(c=m(r.command,"edit"),c&&(i=c)):(g+='<div class="k-edit-label"><label for="'+r.field+'">'+(r.title||r.field||"")+"</label></div>",a.editable&&!a.editable(r.field)||!r.field?(u={storage:{},count:0},o=_.template(f._cellTmpl(r,u),y),u.count>0&&(o=W(o,u.storage)),g+='<div class="k-edit-field">'+o(a)+"</div>"):(k.push({field:r.field,format:r.format,editor:r.editor,values:r.values}),g+="<div "+_.attr("container-for")+'="'+r.field+'" class="k-edit-field"></div>'));i&&H(i)&&(i.text&&H(i.text)&&(s=i.text.update,d=i.text.cancel),i.attr&&(p=i.attr)),f._isMobile?(g+="</div></div>",f.editView=f.pane.append("<div data-"+_.ns+'role="view" data-'+_.ns+'init-widgets="false" class="k-grid-edit-form"><div data-'+_.ns+'role="header" class="k-header">'+f._createButton({name:"update",text:s,attr:p})+(C.title||"Edit")+f._createButton({name:"canceledit",text:d,attr:p})+"</div>"+g+"</div>"),h=f._editContainer=f.editView.element.find(".k-popup-edit-form")):(g+='<div class="k-edit-buttons k-state-default">',g+=f._createButton({name:"update",text:s,attr:p})+f._createButton({name:"canceledit",text:d,attr:p}),g+="</div></div></div>",h=f._editContainer=e(g).appendTo(f.wrapper).eq(0).kendoWindow(R({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(r){if(r.userTriggered){if(r.sender.element.focus(),f.trigger("cancel",{container:h,model:a}))return r.preventDefault(),t;var i=f.items().index(e(f.current()).parent());f.cancelRow(),f.options.navigatable&&(f.current(f.items().eq(i).children().filter(O).first()),b(f.table,!0))}}},C))),f.editable=f._editContainer.kendoEditable({fields:k,model:a,clearContainer:!1}).data("kendoEditable"),f._isMobile&&h.find("input[type=checkbox],input[type=radio]").parent(".k-edit-field").addClass("k-check").prev(".k-edit-label").addClass("k-check").click(function(){e(this).next().children("input").click()}),f._openPopUpEditor(),f.trigger(V,{container:h,model:a})},_openPopUpEditor:function(){this._isMobile?this.pane.navigate(this.editView,this._editAnimation):this._editContainer.data("kendoWindow").center().open()},_createInlineEditor:function(t,a){var r,i,l,n=this,o=[];t.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(i=e(this),r=n.columns[n.cellIndex(i)],r.command||!r.field||a.editable&&!a.editable(r.field)){if(r.command&&(l=m(r.command,"edit"))){i.empty();var t,s,d;H(l)&&(l.text&&H(l.text)&&(t=l.text.update,s=l.text.cancel),l.attr&&(d=l.attr)),e(n._createButton({name:"update",text:t,attr:d})+n._createButton({name:"canceledit",text:s,attr:d})).appendTo(i)}}else o.push({field:r.field,format:r.format,editor:r.editor,values:r.values}),i.attr(_.attr("container-for"),r.field),i.empty()}),n._editContainer=t,n.editable=t.addClass("k-grid-edit-row").kendoEditable({fields:o,model:a,clearContainer:!1}).data("kendoEditable"),n.trigger(V,{container:t,model:a})},cancelRow:function(){var e,t=this,a=t._editContainer;a&&(e=t._modelForContainer(a),t._destroyEditable(),t.dataSource.cancelChanges(e),"popup"!==t._editMode()?t._displayRow(a):t._displayRow(t.items().filter("["+_.attr("uid")+"="+e.uid+"]")))},saveRow:function(){var e=this,t=e._editContainer,a=e._modelForContainer(t),r=e.editable;t&&r&&r.end()&&!e.trigger($,{container:t,model:a})&&e.dataSource.sync()},_displayRow:function(t){var a=this,r=a._modelForContainer(t);r&&t.replaceWith(e((t.hasClass("k-alt")?a.altRowTemplate:a.rowTemplate)(r)))},_showMessage:function(t,a){var r,i,l,n=this;return n._isMobile?(r=_.template('<ul><li class="km-actionsheet-title">#:title#</li><li><a href="\\#" class="k-button k-grid-delete">#:confirmDelete#</a></li></ul>'),i=e(r(t)).appendTo(n.view.element),l=n._actionSheet=new _.mobile.ui.ActionSheet(i,{cancel:t.cancelDelete,cancelTemplate:'<li class="km-actionsheet-cancel"><a class="k-button" href="\\#">#:cancel#</a></li>',close:function(){this.destroy()},command:function(t){var r=e(t.currentTarget).parent();r.hasClass("km-actionsheet-cancel")||n._removeRow(a)},popup:n._actionSheetPopupOptions}),l.open(a),!1):window.confirm(t.title)},_confirmation:function(e){var t=this,a=t.options.editable,r=a===!0||typeof a===ht?ft:a.confirmation;return r!==!1&&null!=r?t._showMessage({confirmDelete:a.confirmDelete||gt,cancelDelete:a.cancelDelete||mt,title:r===!0?ft:r},e):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var e=this;(e.editable&&e.editable.end()||!e.editable)&&!e.trigger(tt)&&e.dataSource.sync()},addRow:function(){var e,t,a,r,i,l=this,n=l.dataSource,o=l._editMode(),s=l.options.editable.createAt||"",d=n.pageSize(),c=n.view()||[];(l.editable&&l.editable.end()||!l.editable)&&("incell"!=o&&l.cancelRow(),e=n.indexOf(c[0]),"bottom"==s.toLowerCase()&&(e+=c.length,d&&!n.options.serverPaging&&d<=c.length&&(e-=1)),0>e&&(e=n.page()>n.totalPages()?(n.page()-1)*d:0),t=n.insert(e,{}),a=t.uid,r=l.table.find("tr["+_.attr("uid")+"="+a+"]"),i=r.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(l._firstEditableColumnIndex(r)),"inline"===o&&r.length?l.editRow(r):"popup"===o?l.editRow(t):i.length&&l.editCell(i))},_firstEditableColumnIndex:function(e){var t,a,r,i=this,l=i.columns,n=i._modelForContainer(e);for(a=0,r=l.length;r>a;a++)if(t=l[a],n&&(!n.editable||n.editable(t.field))&&!t.command&&t.field)return a;return-1},_toolbar:function(){var t,a=this,r=a.wrapper,i=a.options.toolbar,l=a.options.editable;i&&(t=a.wrapper.find(".k-grid-toolbar"),t.length||(I(i)||(i=typeof i===ht?i:a._toolbarTmpl(i).replace(kt,"\\#"),i=W(_.template(i),a)),t=e('<div class="k-toolbar k-grid-toolbar" />').html(i({})).prependTo(r)),l&&l.create!==!1&&t.on(dt+U,".k-grid-add",function(e){e.preventDefault(),a.addRow()}).on(dt+U,".k-grid-cancel-changes",function(e){e.preventDefault(),a.cancelChanges()}).on(dt+U,".k-grid-save-changes",function(e){e.preventDefault(),a.saveChanges()}))},_toolbarTmpl:function(e){var t,a,r=this,i="";if(A(e))for(t=0,a=e.length;a>t;t++)i+=r._createButton(e[t]);return i},_createButton:function(e){var t=e.template||wt,a=typeof e===ht?e:e.name||e.text,i=Ht[a]?Ht[a].className:"k-grid-"+(a||"").replace(/\s/g,""),l={className:i,text:a,imageClass:"",attr:"",iconClass:""};if(!(a||H(e)&&e.template))throw Error("Custom commands should have name specified");return H(e)?(e.className&&(e.className+=" "+l.className),"edit"===a&&H(e.text)&&(e=R(!0,{},e),e.text=e.text.edit),e.attr&&H(e.attr)&&(e.attr=r(e.attr)),l=R(!0,l,Ht[a],e)):l=R(!0,l,Ht[a]),_.template(t)(l)},_hasFooters:function(){var e,t=this.columns,a=t.length;for(e=0;a>e;e++)if(""!==t[e].footerTemplate||""!==t[e].groupFooterTemplate)return!0;return!1},_groupable:function(){var t=this;t._groupableClickHandler?t.table.off(dt+U,t._groupableClickHandler):t._groupableClickHandler=function(a){var r=e(this),i=r.closest("tr");r.hasClass("k-i-collapse")?t.collapseGroup(i):t.expandGroup(i),a.preventDefault(),a.stopPropagation()},t.table.on(dt+U,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",t._groupableClickHandler),t._attachGroupable()},_attachGroupable:function(){var t=this,a=t.wrapper,r=t.options.groupable,i=j+":visible["+_.attr("field")+"]",l=j+"["+_.attr("field")+"]";r&&(a.has("div.k-grouping-header")[0]||e("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(a),t.groupable&&t.groupable.destroy(),t.groupable=new C(a,R({},r,{draggable:t._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:t.dataSource,draggableElements:t.content?".k-grid-header:first "+i:"table:first>.k-grid-header "+i,filter:t.content?".k-grid-header:first "+l:"table:first>.k-grid-header "+l,allowDrag:t.options.reorderable})))},_selectable:function(){var e,a,r=this,i=[],l=r.options.selectable;l&&(e=typeof l===ht&&l.toLowerCase().indexOf("multiple")>-1,a=typeof l===ht&&l.toLowerCase().indexOf("cell")>-1,r._hasDetails()&&(i[i.length]=".k-detail-row"),(r.options.groupable||r._hasFooters())&&(i[i.length]=".k-grouping-row,.k-group-footer"),i=i.join(","),""!==i&&(i=":not("+i+")"),r.selectable=new _.ui.Selectable(r.table,{filter:">"+(a?P:"tbody>tr"+i),aria:!0,multiple:e,change:function(){r.trigger(Y)}}),r.options.navigatable&&r.table.on("keydown"+U,function(i){var l=r.current();if(i.keyCode===S.SPACEBAR&&i.target==r.table[0]&&!l.is(".k-edit-cell,.k-header")&&l.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(i.preventDefault(),i.stopPropagation(),l=a?l:l.parent(),e)if(i.ctrlKey){if(l.hasClass(nt))return l.removeClass(nt),r.trigger(Y),t}else r.selectable.clear();else r.selectable.clear();r.selectable.value(l)}}))},clearSelection:function(){var e=this;e.selectable.clear(),e.trigger(Y)},select:function(a){var r=this,i=r.selectable;return a=e(a),a.length?(i.options.multiple||(i.clear(),a=a.first()),i.value(a),t):i.value()},current:function(a){var r=this,i=r.options.scrollable,l=r._current,n=r.table.add(r.thead.parent());return a!==t&&a.length&&(l&&l[0]===a[0]||(l&&(l.removeClass(lt).removeAttr("id"),n.removeAttr("aria-activedescendant")),a.attr("id",r._cellId),r._current=a.addClass(lt),n.attr("aria-activedescendant",r._cellId),a.length&&i&&(e.contains(r.content[0],a[0])&&r._scrollTo(a.parent()[0],r.content[0]),i.virtual?r._scrollTo(a[0],r.content.find(">.k-virtual-scrollable-wrap")[0]):r._scrollTo(a[0],r.content[0])))),r._current},_removeCurrent:function(){this._current&&(this._current.removeClass(lt),this._current=null)},_scrollTo:function(e,t){var a=e.tagName.toLowerCase(),r="td"===a||"th"===a,i=e[r?"offsetLeft":"offsetTop"],l=e[r?"offsetWidth":"offsetHeight"],n=t[r?"scrollLeft":"scrollTop"],o=t[r?"clientWidth":"clientHeight"],s=i+l,d=0;d=n>i?i:s>n+o?o>=l?s-o:i:n,t[r?"scrollLeft":"scrollTop"]=d},_navigatable:function(){var t=this,a=W(t.current,t),r=t.table,i=t.thead.parent(),l=r,n=_.support.isRtl(t.element);t.options.navigatable&&(t.options.scrollable&&(l=r.add(i),i.attr(pt,-1)),i.on("keydown"+U,function(e){e.altKey&&e.keyCode==S.DOWN&&(a().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),r.attr(pt,N.max(r.attr(pt)||0,0)).on("mousedown"+U+" keydown"+U,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),l.on(_.support.touch?"touchstart"+U:"mousedown"+U,q+">"+O,W(k,t)).on("focus"+U,function(){if(!_.support.touch){var t=a();t&&t.is(":visible")?t.addClass(lt):a(e(this).find(G)),this==r[0]?(i.attr(pt,-1),r.attr(pt,0)):(r.attr(pt,-1),i.attr(pt,0))}}).on("focusout"+U,function(){var e=a();e&&e.removeClass(lt)}).on("keydown"+U,function(i){var l,o,s,d,c,p,u,h,f=i.keyCode,g=!1,m=!i.isDefaultPrevented()&&!e(i.target).is(":button,a,:input,a>.k-icon"),k=t.options.pageable,_=t.dataSource,v="incell"==t._editMode(),w=i.shiftKey,C=a();C&&C.is("th")&&(m=!0),m&&f==S.UP?(C?(s=C.parent().prevAll(q).first(),s[0]||(c=t.thead.parent(),b(c,!0),s=c.find(q).first()),d=C.index(),C=s.children().eq(d),C[0]&&C.is(O)||(C=s.children(O).first())):C=r.find(G),g=!0,a(C)):m&&f==S.DOWN?(C?(s=C.parent().nextAll(q).first(),!s[0]&&C.is("th")&&(b(t.tbody.parent()),s=t.tbody.find(q).first()),d=C.index(),C=s.children().eq(d),C[0]&&C.is(O)||(C=s.children(O).first())):C=r.find(G),g=!0,a(C)):m&&f==(n?S.RIGHT:S.LEFT)?(a(C?C.prevAll(B+":first"):r.find(G)),g=!0):m&&f==(n?S.LEFT:S.RIGHT)?(C?C.next()[0]&&(C=C.nextAll(B+":first")):C=r.find(G),g=!0,a(C)):m&&k&&S.PAGEDOWN==f?(_.page(_.page()+1),g=!0):m&&k&&S.PAGEUP==f?(_.page(_.page()-1),g=!0):f==S.ENTER||S.F2==f?(C=C?C:r.find(G),C.is("th")?(C.find(".k-link").click(),g=!0):C.parent().is(".k-master-row,.k-grouping-row")?(C.parent().find(".k-icon:first").click(),g=!0):(p=C.find(":kendoFocusable:first"),!C.hasClass("k-edit-cell")&&p[0]&&C.hasClass("k-state-focused")?(p.focus(),g=!0):t.options.editable&&!e(i.target).is(":button,.k-button,textarea")&&(u=e(i.target).closest("[role=gridcell]"),u[0]||(u=C),t._handleEditing(u),g=!0))):S.ESC==f?(l=T(),C&&e.contains(C[0],l)&&!C.hasClass("k-edit-cell")&&!C.parent().hasClass("k-grid-edit-row")?(b(t.table[0],!0),g=!0):!t._editContainer||C&&!t._editContainer.has(C[0])&&C[0]!==t._editContainer[0]||(v?t.closeCell(!0):(o=t.items().index(e(C).parent()),l&&l.blur(),t.cancelRow(),o>=0&&t.current(t.items().eq(o).children().filter(O).first())),yt.msie&&yt.version<9&&document.body.focus(),b(r,!0),g=!0)):S.TAB==f&&(C=e(C),t.options.editable&&v&&(h=e(T()).closest(".k-edit-cell"),h[0]&&h[0]!==C[0]&&(C=h)),h=w?C.prevAll(B+":first"):C.nextAll(":visible:first"),h.length||(h=C.parent()[w?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(B+(w?":last":":first"))),!C.is("th")&&h.length&&t.options.editable&&v&&(t._handleEditing(C,h),g=!0)),g&&(i.preventDefault(),i.stopPropagation())
}))},_handleEditing:function(a,r){var i,l,n=this,o=e(T()),s=n._editMode(),d=yt.msie,c=d&&yt.version<9,p=n._editContainer;if(l="incell"==s?a.hasClass("k-edit-cell"):a.parent().hasClass("k-grid-edit-row"),n.editable){if(e.contains(p[0],o[0])&&(yt.opera||c?o.change().triggerHandler("blur"):(o.blur(),d&&o.blur())),!n.editable)return b(n.table),t;if(!n.editable.end())return"incell"==s?n.current(p):n.current(p.children().filter(B).first()),i=p.find(":kendoFocusable:first")[0],i&&i.focus(),t;"incell"==s?n.closeCell():(n.saveRow(),l=!0)}r&&n.current(r),c&&document.body.focus(),b(n.table,!0),(!l&&!r||r)&&("incell"==s?n.editCell(n.current()):n.editRow(n.current().parent()))},_wrapper:function(){var e=this,t=e.table,a=e.options.height,r=e.element;r.is("div")||(r=r.wrap("<div/>").parent()),e.wrapper=r.addClass("k-grid k-widget k-secondary"),a&&(e.wrapper.css(ct,a),t.css(ct,"auto")),e._initMobile()},_initMobile:function(){var t,a=this.options;this._isMobile=a.mobile===!0&&_.support.mobileOS||"phone"===a.mobile||"tablet"===a.mobile,this._isMobile&&(t=this.wrapper.addClass("k-grid-mobile").wrap("<div data-"+_.ns+'role="view" data-'+_.ns+'init-widgets="false"></div>').parent(),this.pane=_.mobile.ui.Pane.wrap(t),this.view=this.pane.view(),this._actionSheetPopupOptions=e(document.documentElement).hasClass("km-root")?{modal:!1}:{align:"bottom center",position:"bottom center",effect:"slideIn:up"},a.height&&this.pane.element.parent().css(ct,a.height),this._editAnimation="slide")},_tbody:function(){var t,a=this,r=a.table;t=r.find(">tbody"),t.length||(t=e("<tbody/>").appendTo(r)),a.tbody=t},_scrollable:function(){var t,a,r,i,l,n=this,o=n.options,s=o.scrollable,d=s!==!0&&s.virtual&&!n.virtualScrollable,c=!_.support.kineticScrollNeeded||d?_.support.scrollbar():0;s&&(t=n.wrapper.children(".k-grid-header"),t[0]||(t=e('<div class="k-grid-header" />').insertBefore(n.table)),t.css(Ct?"padding-left":"padding-right",s.virtual?c+1:c),a=e('<table role="grid" />'),Tt&&a.attr("cellspacing",0),a.append(n.thead),t.empty().append(e('<div class="k-grid-header-wrap" />').append(a)),n.content=n.table.parent(),n.content.is(".k-virtual-scrollable-wrap")&&(n.content=n.content.parent()),n.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(n.content=n.table.wrap('<div class="k-grid-content" />').parent()),d&&(n.virtualScrollable=new St(n.content,{dataSource:n.dataSource,itemHeight:W(n._averageRowHeight,n)})),n.scrollables=t.children(".k-grid-header-wrap"),r=n.wrapper.find(".k-grid-footer"),i=Ct&&yt.webkit?c:0,r.length&&(n.scrollables=n.scrollables.add(r.children(".k-grid-footer-wrap"))),s.virtual?n.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+U,function(){n.scrollables.scrollLeft(this.scrollLeft+i)}):(n.content.bind("scroll"+U,function(){n.scrollables.scrollLeft(this.scrollLeft+i)}),l=_.touchScroller(n.content),l&&l.movable&&l.movable.bind("change",function(e){n.scrollables.scrollLeft(-e.sender.x)})))},_setContentWidth:function(){var t,a=this,r="k-grid-content-expander",i='<div class="'+r+'"></div>',l=a.resizable;a.options.scrollable&&a.wrapper.is(":visible")&&(t=a.table.parent().children("."+r),a._setContentWidthHandler=W(a._setContentWidth,a),a.dataSource&&a.dataSource.view().length?t[0]&&(t.remove(),l&&l.unbind("resize",a._setContentWidthHandler)):(t[0]||(t=e(i).appendTo(a.table.parent()),l&&l.bind("resize",a._setContentWidthHandler)),a.thead&&t.width(a.thead.width())))},_setContentHeight:function(){var e,t=this,a=t.options,r=t.wrapper.innerHeight(),i=t.wrapper.children(".k-grid-header"),l=_.support.scrollbar();a.scrollable&&t.wrapper.is(":visible")&&(r-=i.outerHeight(),t.pager&&(r-=t.pager.element.outerHeight()),a.groupable&&(r-=t.wrapper.children(".k-grouping-header").outerHeight()),a.toolbar&&(r-=t.wrapper.children(".k-grid-toolbar").outerHeight()),t.footerTemplate&&(r-=t.wrapper.children(".k-grid-footer").outerHeight()),e=function(e){var t,a;return e[0].style.height?!0:(t=e.height(),e.height("auto"),a=e.height(),t!=a?(e.height(""),!0):(e.height(""),!1))},e(t.wrapper)&&(r>2*l?t.content.height(r):t.content.height(2*l+1)))},_averageRowHeight:function(){var e,t=this,a=t._rowHeight;return t._rowHeight||(t._rowHeight=a=t.table.outerHeight()/t.items().length,t._sum=a,t._measures=1),e=t.table.outerHeight()/t.items().length,a!==e&&(t._measures++,t._sum+=e,t._rowHeight=t._sum/t._measures),a},_dataSource:function(){var e,a=this,r=a.options,i=r.dataSource;i=A(i)?{data:i}:i,H(i)&&(R(i,{table:a.table,fields:a.columns}),e=r.pageable,H(e)&&e.pageSize!==t&&(i.pageSize=e.pageSize)),a.dataSource&&a._refreshHandler?a.dataSource.unbind(Y,a._refreshHandler).unbind(F,a._progressHandler).unbind(L,a._errorHandler):(a._refreshHandler=W(a.refresh,a),a._progressHandler=W(a._requestStart,a),a._errorHandler=W(a._error,a)),a.dataSource=w.create(i).bind(Y,a._refreshHandler).bind(F,a._progressHandler).bind(L,a._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(t){var a,r,i,l,n=this,o=t.model,s=n.tbody.find("tr["+_.attr("uid")+"="+o.uid+"]"),d=s.hasClass("k-alt"),c=n.items().index(s);if(s.children(".k-edit-cell").length&&!n.options.rowTemplate)s.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){a=e(this),r=n.columns[n.cellIndex(a)],r.field===t.field&&(a.hasClass("k-edit-cell")?a.addClass("k-dirty-cell"):(n._displayCell(a,r,o),e('<span class="k-dirty"/>').prependTo(a)))});else if(!s.hasClass("k-grid-edit-row")){for(i=(d?n.altRowTemplate:n.rowTemplate)(o),s.replaceWith(i),i=n.items().eq(c),c=0,l=n.columns.length;l>c;c++)r=n.columns[c],r.field===t.field&&(a=i.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(c),e('<span class="k-dirty"/>').prependTo(a));n.trigger("itemChange",{item:i,data:o,ns:v})}},_pageable:function(){var t,a=this,r=a.options.pageable;r&&(t=a.wrapper.children("div.k-grid-pager"),t.length||(t=e('<div class="k-pager-wrap k-grid-pager"/>').appendTo(a.wrapper)),a.pager&&a.pager.destroy(),a.pager="object"==typeof r&&r instanceof _.ui.Pager?r:new _.ui.Pager(t,R({},r,{dataSource:a.dataSource})))},_footer:function(){var t,a,r=this,i=r.dataSource.aggregates(),l="",o=r.footerTemplate,s=r.options,d=r.footer||r.wrapper.find(".k-grid-footer");o?(i=M(i)?n(r.dataSource.aggregate()):i,l=e(r._wrapFooter(o(i))),d.length?(a=l,d.replaceWith(a),d=r.footer=a):d=r.footer=s.scrollable?s.pageable?l.insertBefore(r.wrapper.children("div.k-grid-pager")):l.appendTo(r.wrapper):l.insertBefore(r.tbody)):d&&!r.footer&&(r.footer=d),d.length&&(s.scrollable&&(t=d.attr("tabindex",-1).children(".k-grid-footer-wrap"),r.scrollables=r.scrollables.not(".k-grid-footer-wrap").add(t)),r._footerWidth&&d.find("table").css("width",r._footerWidth),t&&t.scrollLeft(r.content.scrollLeft()))},_wrapFooter:function(t){var a=this,r="",i=_.support.mobileOS?0:_.support.scrollbar();return a.options.scrollable?(r=e('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(Tt?' cellspacing="0"':"")+"><tbody>"+t+"</tbody></table></div></div>"),a._appendCols(r.find("table")),r.css(Ct?"padding-left":"padding-right",i),r):'<tfoot class="k-grid-footer">'+t+"</tfoot>"},_columnMenu:function(){var t,a,r,i,l,n,o=this,s=o.columns,d=o.options,c=d.columnMenu,p=this._isMobile,u=function(){b(o.thead.parent(),!0)},h=function(e){o.trigger(Q,{field:e.field,container:e.container})};c&&("boolean"==typeof c&&(c={}),o.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(f){a=s[f],n=e(this),a.command||!a.field&&!n.attr("data-"+_.ns+"field")||(t=n.data("kendoColumnMenu"),t&&t.destroy(),i=a.sortable!==!1&&c.sortable!==!1?d.sortable:!1,l=d.filterable&&a.filterable!==!1&&c.filterable!==!1?R({pane:o.pane},a.filterable,d.filterable):!1,r={dataSource:o.dataSource,values:a.values,columns:c.columns,sortable:i,filterable:l,messages:c.messages,owner:o,closeCallback:u,init:h,pane:o.pane,filter:p?":not(.k-column-active)":""},n.kendoColumnMenu(r))}))},_filterable:function(){var t,a,r=this,i=r.columns,l=function(){b(r.thead.parent(),!0)},n=r.options.filterable;n&&!r.options.columnMenu&&r.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(o){var s,d;t=e(this),i[o].filterable===!1||i[o].command||!i[o].field&&!t.attr("data-"+_.ns+"field")||(a=t.data("kendoFilterMenu"),a&&a.destroy(),s=i[o].filterable,d=R({},n,s,{dataSource:r.dataSource,values:i[o].values,closeCallback:l,init:function(e){r.trigger(X,{field:e.field,container:e.container})},pane:r.pane}),s&&s.messages&&(d.messages=R(!0,{},n.messages,s.messages)),t.kendoFilterMenu(d))})},_sortable:function(){var t,a,r,i=this,l=i.columns,n=i.options.sortable;n&&i.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(o){t=l[o],t.sortable!==!1&&!t.command&&t.field&&(a=e(this),r=a.data("kendoSortable"),r&&r.destroy(),a.attr("data-"+_.ns+"field",t.field).kendoSortable(R({},n,t.sortable,{dataSource:i.dataSource,aria:!0,filter:":not(.k-column-active)"})))})},_columns:function(t){var a,r=this,i=r.table,l=i.find("col"),n=r.options.dataSource;t=t.length?t:D(i.find("th"),function(t,a){t=e(t);var r=t.attr(_.attr("sortable")),i=t.attr(_.attr("filterable")),n=t.attr(_.attr("type")),o=t.attr(_.attr("groupable")),s=t.attr(_.attr("field")),d=t.attr(_.attr("menu"));return s||(s=t.text().replace(/\s|[^A-z0-9]/g,"")),{field:s,type:n,sortable:"false"!==r,filterable:"false"!==i,groupable:"false"!==o,menu:d,template:t.attr(_.attr("template")),width:l.eq(a).css("width")}}),a=!(r.table.find("tbody tr").length>0&&(!n||!n.transport)),r.columns=D(t,function(e){return e=typeof e===ht?{field:e}:e,e.hidden&&(e.attributes=c(e.attributes),e.footerAttributes=c(e.footerAttributes),e.headerAttributes=c(e.headerAttributes)),R({encoded:a},e)})},_groups:function(){var e=this.dataSource.group();return e?e.length:0},_tmpl:function(e,t){var i,l,n,o,s=this,d=R({},_.Template,s.options.templateSettings),c=s.columns.length,p={storage:{},count:0},u=s._hasDetails(),h=[],f=s._groups();if(!e){for(e="<tr",t&&h.push("k-alt"),u&&h.push("k-master-row"),h.length&&(e+=' class="'+h.join(" ")+'"'),c&&(e+=" "+_.attr("uid")+'="#='+_.expr("uid",d.paramName)+'#"'),e+=" role='row'>",f>0&&(e+=a(f)),u&&(e+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),i=0;c>i;i++)n=s.columns[i],l=n.template,o=typeof l,e+="<td"+r(n.attributes)+" role='gridcell'>",e+=s._cellTmpl(n,p),e+="</td>";e+="</tr>"}return e=_.template(e,d),p.count>0?W(e,p.storage):e},_headerCellText:function(e){var t=this,a=R({},_.Template,t.options.templateSettings),r=e.headerTemplate,i=typeof r,l=e.title||e.field||"";return i===ut?l=_.template(r,a)({}):i===ht&&(l=r),l},_cellTmpl:function(e,t){var a,r,i=this,l=R({},_.Template,i.options.templateSettings),n=e.template,o=l.paramName,s=e.field,d="",c=e.format,p=typeof n,u=e.values;if(e.command){if(A(e.command)){for(a=0,r=e.command.length;r>a;a++)d+=i._createButton(e.command[a]);return d.replace(kt,"\\#")}return i._createButton(e.command).replace(kt,"\\#")}return p===ut?(t.storage["tmpl"+t.count]=n,d+="#=this.tmpl"+t.count+"("+o+")#",t.count++):p===ht?d+=n:u&&u.length&&H(u[0])&&"value"in u[0]&&s?(d+="#var v ="+_.stringify(h(u))+"#",d+="#var f = v[",l.useWithBlock||(d+=o+"."),d+=s+"]#",d+="${f != null ? f : ''}"):(d+=e.encoded?"#:":"#=",c&&(d+='kendo.format("'+c.replace(bt,"\\$1")+'",'),s?(s=_.expr(s,o),d+=s+"==null?'':"+s):d+="''",c&&(d+=")"),d+="#"),d},_templates:function(){var t=this,a=t.options,r=t.dataSource,i=r.group(),l=t.footer||t.wrapper.find(".k-grid-footer"),n=r.aggregate();t.rowTemplate=t._tmpl(a.rowTemplate),t.altRowTemplate=t._tmpl(a.altRowTemplate||a.rowTemplate,!0),t._hasDetails()&&(t.detailTemplate=t._detailTmpl(a.detailTemplate||"")),(t._group&&!M(n)||!M(n)&&!l.length||z(t.columns,function(e){return e.footerTemplate}).length)&&(t.footerTemplate=t._footerTmpl(n,"footerTemplate","k-footer-template")),i&&z(t.columns,function(e){return e.groupFooterTemplate}).length&&(n=e.map(i,function(e){return e.aggregates}),t.groupFooterTemplate=t._footerTmpl(n,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(e,t,i){var l,o,s,d,c,p=this,u=R({},_.Template,p.options.templateSettings),h=u.paramName,f="",g=p.columns,m={},b=0,k={},v=p._groups(),w=n(e);for(f+='<tr class="'+i+'">',v>0&&(f+=a(v)),p._hasDetails()&&(f+='<td class="k-hierarchy-cell">&nbsp;</td>'),l=0,o=p.columns.length;o>l;l++)c=g[l],s=c[t],d=typeof s,f+="<td"+r(c.footerAttributes)+">",s?(d!==ut&&(k=w[c.field]?R({},u,{paramName:h+"."+c.field}):{},s=_.template(s,k)),m["tmpl"+b]=s,f+="#=this.tmpl"+b+"("+h+")#",b++):f+="&nbsp;",f+="</td>";return f+="</tr>",f=_.template(f,u),b>0?W(f,m):f},_detailTmpl:function(e){var t=this,r="",i=R({},_.Template,t.options.templateSettings),l=i.paramName,n={},o=0,s=t._groups(),c=d(t.columns).length,p=typeof e;return r+='<tr class="k-detail-row">',s>0&&(r+=a(s)),r+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(c?' colspan="'+c+'"':"")+">",p===ut?(n["tmpl"+o]=e,r+="#=this.tmpl"+o+"("+l+")#",o++):r+=e,r+="</td></tr>",r=_.template(r,i),o>0?W(r,n):r},_hasDetails:function(){var e=this;return null!==e.options.detailTemplate||(e._events[J]||[]).length},_details:function(){var t=this;t.table.on(dt+U,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(a){var r,i,l=e(this),n=l.hasClass("k-plus"),o=l.closest("tr.k-master-row"),s=t.detailTemplate,d=t._hasDetails();return l.toggleClass("k-plus",!n).toggleClass("k-minus",n),d&&!o.next().hasClass("k-detail-row")&&(i=t.dataItem(o),e(s(i)).addClass(o.hasClass("k-alt")?"k-alt":"").insertAfter(o),t.trigger(J,{masterRow:o,detailRow:o.next(),data:i,detailCell:o.next().find(".k-detail-cell")})),r=o.next(),t.trigger(n?rt:it,{masterRow:o,detailRow:r}),r.toggle(n),t._current&&t._current.attr("aria-expanded",n),a.preventDefault(),!1})},dataItem:function(t){if(t=e(t)[0],!t)return null;var a,r,i=this.tbody.children(),l=/k-grouping-row|k-detail-row|k-group-footer/,n=t.sectionRowIndex;for(r=n,a=0;n>a;a++)l.test(i[a].className)&&r--;return this._data[r]},expandRow:function(t){e(t).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(t){e(t).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var a,i,l,n,o,s=this,d=s.columns,c=s._hasDetails()&&d.length,p="",u=s.table.find(">thead");if(u.length||(u=e("<thead/>").insertBefore(s.tbody)),l=s.element.find("tr:has(th):first"),l.length||(l=u.children().first(),l.length||(l=e("<tr/>"))),l.children().length)c&&!l.find(".k-hierarchy-cell")[0]&&l.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');else{for(c&&(p+='<th class="k-hierarchy-cell">&nbsp;</th>'),a=0,i=d.length;i>a;a++)o=d[a],n=s._headerCellText(o),o.command?p+="<th"+r(o.headerAttributes)+">"+n+"</th>":(p+="<th role='columnheader' "+_.attr("field")+"='"+(o.field||"")+"' ",o.title&&(p+=_.attr("title")+'="'+o.title.replace(/'/g,"'")+'" '),o.groupable!==t&&(p+=_.attr("groupable")+"='"+o.groupable+"' "),o.aggregates&&(p+=_.attr("aggregates")+"='"+o.aggregates+"'"),p+=r(o.headerAttributes),p+=">"+n+"</th>");l.html(p)}l.find("th").addClass("k-header"),s.options.scrollable||u.addClass("k-grid-header"),l.find("script").remove().end().appendTo(u),s.thead&&s._destroyColumnAttachments(),s.thead=u,s._sortable(),s._filterable(),s._scrollable(),s._updateCols(),s._resizable(),s._draggable(),s._reorderable(),s.groupable&&s._attachGroupable(),s._columnMenu()},_updateCols:function(){var e=this;e._appendCols(e.thead.parent().add(e.table))},_appendCols:function(e){var t=this;u(e,d(t.columns),t._hasDetails(),t._groups())},_autoColumns:function(e){if(e&&e.toJSON){var t,a=this;e=e.toJSON();for(t in e)a.columns.push({field:t});a._thead(),a._templates()}},_rowsHtml:function(e){var t,a,r=this,i="",l=r.rowTemplate,n=r.altRowTemplate;for(t=0,a=e.length;a>t;t++)i+=t%2?n(e[t]):l(e[t]),r._data.push(e[t]);return i},_groupRowHtml:function(e,t,r){var i,l,n=this,o="",s=e.field,d=z(n.columns,function(e){return e.field==s})[0]||{},c=d.groupHeaderTemplate,p=(d.title||s)+": "+f(e.value,d.format,d.values),u=R({},{field:e.field,value:e.value},e.aggregates[e.field]),h=n._groupAggregatesDefaultObject||{},g=e.items;if(c&&(p=typeof c===ut?c(u):_.template(c)(u)),o+='<tr class="k-grouping-row">'+a(r)+'<td colspan="'+t+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+p+"</p></td></tr>",e.hasSubgroups)for(i=0,l=g.length;l>i;i++)o+=n._groupRowHtml(g[i],t-1,r+1);else o+=n._rowsHtml(g);return n.groupFooterTemplate&&(o+=n.groupFooterTemplate(R(h,e.aggregates))),o},collapseGroup:function(a){a=e(a).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var r,i,l=a.find(".k-group-cell").length,n=1;a.find("td:first").attr("aria-expanded",!1),a.nextAll("tr").each(function(){return i=e(this),r=i.find(".k-group-cell").length,i.hasClass("k-grouping-row")?n++:i.hasClass("k-group-footer")&&n--,l>=r||i.hasClass("k-group-footer")&&0>n?!1:(i.hide(),t)})},expandGroup:function(a){a=e(a).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var r,i,l=this,n=a.find(".k-group-cell").length,o=1;a.find("td:first").attr("aria-expanded",!0),a.nextAll("tr").each(function(){return r=e(this),i=r.find(".k-group-cell").length,n>=i?!1:(i!=n+1||r.hasClass("k-detail-row")||(r.show(),r.hasClass("k-grouping-row")&&r.find(".k-icon").hasClass("k-i-collapse")&&l.expandGroup(r),r.hasClass("k-master-row")&&r.find(".k-icon").hasClass("k-minus")&&r.next().show()),r.hasClass("k-grouping-row")&&o++,r.hasClass("k-group-footer")&&(1==o?r.show():o--),t)})},_updateHeader:function(t){var a=this,r=a.thead.find("th.k-group-cell"),i=r.length;t>i?e(Array(t-i+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(a.thead.find("tr")):i>t&&(i-=t,e(z(r,function(e,t){return i>t})).remove())},_firstDataItem:function(e,t){return e&&t&&(e=e.hasSubgroups?this._firstDataItem(e.items[0],t):e.items[0]),e},hideColumn:function(t){var a,r,i,l,n,o,s,p,u,h=this,f=0,m=h.footer||h.wrapper.find(".k-grid-footer"),b=h.columns;if(t="number"==typeof t?b[t]:z(b,function(e){return e.field===t})[0],t&&!t.hidden){for(u=E(t,d(b)),t.hidden=!0,t.attributes=c(t.attributes),t.footerAttributes=c(t.footerAttributes),t.headerAttributes=c(t.headerAttributes),h._templates(),h._updateCols(),g(h.thead.find(">tr")[0].cells,u,!1),m[0]&&(h._appendCols(m.find("table:first")),g(m.find(".k-footer-template")[0].cells,u,!1)),a=h.tbody.children(),n=0,p=a.length;p>n;n+=1)r=a.eq(n),r.is(".k-grouping-row,.k-detail-row")?(i=r.children(":not(.k-group-cell):first,.k-detail-cell").last(),i.attr("colspan",parseInt(i.attr("colspan"),10)-1)):(r.hasClass("k-grid-edit-row")&&(i=r.children(".k-edit-container")[0])&&(i=e(i),i.attr("colspan",parseInt(i.attr("colspan"),10)-1),i.find("col").eq(u).remove(),r=i.find("tr:first")),g(r[0].cells,u,!1));for(o=h.thead.prev().find("col"),n=0,p=o.length;p>n;n+=1){if(s=o[n].style.width,!s||-1!=s.indexOf("%")){f=0;break}f+=parseInt(s,10)}l=e(">.k-grid-header table:first,>.k-grid-footer table:first",h.wrapper).add(h.table),h._footerWidth=null,f&&(l.width(f),h._footerWidth=f),yt.msie&&8==yt.version&&(l.css("display","inline-table"),setTimeout(function(){l.css("display","table")},1)),h.trigger(Z,{column:t})}},showColumn:function(t){var a,r,i,l,n,o,s,c,h,f,m=this,b=m.columns,k=m.footer||m.wrapper.find(".k-grid-footer");if(t="number"==typeof t?b[t]:z(b,function(e){return e.field===t})[0],t&&t.hidden){for(f=E(t,b),t.hidden=!1,t.attributes=p(t.attributes),t.footerAttributes=p(t.footerAttributes),t.headerAttributes=p(t.headerAttributes),m._templates(),m._updateCols(),g(m.thead.find(">tr")[0].cells,f,!0),k[0]&&(m._appendCols(k.find("table:first")),g(k.find(".k-footer-template")[0].cells,f,!0)),a=m.tbody.children(),r=0,i=a.length;i>r;r+=1)l=a.eq(r),l.is(".k-grouping-row,.k-detail-row")?(n=l.children(":not(.k-group-cell):first,.k-detail-cell").last(),n.attr("colspan",parseInt(n.attr("colspan"),10)+1)):(l.hasClass("k-grid-edit-row")&&(n=l.children(".k-edit-container")[0])&&(n=e(n),n.attr("colspan",parseInt(n.attr("colspan"),10)+1),u(n.find(">form>table"),d(b),!1,0),l=n.find("tr:first")),g(l[0].cells,f,!0));if(o=e(">.k-grid-header table:first,>.k-grid-footer table:first",m.wrapper).add(m.table),t.width){for(s=0,h=m.thead.prev().find("col"),r=0,i=h.length;i>r;r+=1){if(c=h[r].style.width,c.indexOf("%")>-1){s=0;break}s+=parseInt(c,10)}m._footerWidth=null,s&&(o.width(s),m._footerWidth=s)}else o.width("");m.trigger(et,{column:t})}},_progress:function(e){var t=this,a=t.element.is("table")?t.element.parent():t.content&&t.content.length?t.content:t.element;_.ui.progress(a,e)},_resize:function(){this.content&&(this._setContentHeight(),this._setContentWidth())},refresh:function(t){var a,r,i,l,o,s,c=this,p="",u=c.dataSource.view(),h=c.options.navigatable,f=e(c.current()),g=!1,m=(c.dataSource.group()||[]).length,k=m+d(c.columns).length;if(!(t&&"itemchange"===t.action&&c.editable||(t=t||{},c.trigger("dataBinding",{action:t.action||"rebind",index:t.index,items:t.items})))){if(s=T(),h&&(c.table[0]===s||e.contains(c.table[0],s)||c._editContainer&&c._editContainer.data("kendoWindow"))&&(g=f.is("th"),o=0,g&&(o=c.thead.find("th:not(.k-group-cell)").index(f))),c._destroyEditable(),c._progress(!1),c._hideResizeHandle(),c._data=[],c.columns.length||(c._autoColumns(c._firstDataItem(u[0],m)),k=m+c.columns.length),c._group=m>0||c._group,c._group&&(c._templates(),c._updateCols(),c._updateHeader(m),c._group=m>0),m>0)for(c.detailTemplate&&k++,c.groupFooterTemplate&&(c._groupAggregatesDefaultObject=n(c.dataSource.aggregate())),r=0,a=u.length;a>r;r++)p+=c._groupRowHtml(u[r],k,0);else p+=c._rowsHtml(u);y?c.tbody[0].innerHTML=p:(l=document.createElement("div"),l.innerHTML="<table><tbody>"+p+"</tbody></table>",i=l.firstChild.firstChild,c.table[0].replaceChild(i,c.tbody[0]),c.tbody=e(i)),c._footer(),c._setContentHeight(),c._setContentWidth(),o>=0&&(c._removeCurrent(),g?c.current(c.thead.find("th:not(.k-group-cell)").eq(o)):c.current(c.items().eq(o).children().filter(B).first()),c._current&&b(c._current.closest("table")[0],!0)),c.trigger(at)}}});v.plugin(Rt),v.plugin(St)}(window.kendo.jQuery);;